<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>| ch.hugo</title>
<link rel=icon href=favicon.svg sizes=any type=image/svg+xml><meta property="og:url" content="https://chhz0.github.io/interviews/network/%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/"><meta property="og:site_name" content="ch.hugo"><meta property="og:title" content="ch.hugo"><meta property="og:description" content="OSI的7层网络模型？各层的协议有什么？ 应用层：确定进程间通信的性质以及满足用户需要以及提高网络和用户应用 表示层：主要解决用户信息的语法表达 会话层：复制建立、管理和终止表示层实体之间的通信会话 传输层：实现网络不同主机上的用户进程间的数据通信，可靠和不可靠的传输 网络层：本层通过IP寻址来建立两个节点之间的连接 数据链路层：将上层数据封装成帧，用MAC地址访问媒介 物理层：设备之间比特流的传输，物理接口 回答： OSI参考模型有7层，应用层、表示层、会话层、传输层、网络层、数据链路层、物理层 应用层有HTTP、HTTPS，传输层有TCP和UDP协议，网络层有IP、ICMP、ARP协议
网络分层的好处：对各层之间进行解耦，层与层之间不产生关联，比如应用层HTTP协议从HTTP1.1升级到HTTP2.0的时候，不会对传输层和网络层有影响，或者网络层的IPv4协议升级到IPv6协议的时候，不会影响到应用，传输层
TCP/IP协议是将OSI模型的应用层、表示层、会话层统一为应用层，数据链路层和物理层统一为网络接口层
TCP/IP的四层网络模型？ 应用层 传输层 网络层 数据链路层（网络接口层） 五层因特网协议栈？ 应用层、运输层、网络层、链路层、物理层
OSI七层网络协议 TCP/IP四层概念模型 对于网络协议 应用层
—
表示层
—
会话层 应用层（4） HTTP、TFTP、FTP、NFS、WAIS、SMTP
–
Telnet、Rlogin、SNMP、Gopher
–
SMTP、DNS 键入网址场景问题 键入网址后，期间发送了什么？ http/https -> dns -> tcp -> ip -> arp
浏览器会解析网址，解析出域名，资源路径，端口等信息，构造HTTP请求报文 将域名解析为IP地址，先查看系统缓存是否有域名信息，有的话返回IP地址；没有就查看本地host文件没有域名信息，有就返回IP地址；如果再没有就查看本地DNS服务器，如果本地DNS服务器中有域名信息，就返回IP地址，否则本地DNS服务器分别去根域名服务器->顶级域名服务器->权威域名服务器询问，最后拿到IP地址 HTTP协议是基于TCP协议传输的，所以要先进行TCP三次握手， 然后到网络层，加上IP头，同时填上目标IP地址和源IP地址 然后到数据链路层，通过ARP协议，获取路由器的MAC地址，然后加上MAC头，填上目标MAC地址和源MAC地址 然后到物理层，直接把数据包转发给路由器，路由器再通过下一跳，找到最终的目的服务器 当双方完成三次握手后，如果是HTTP协议，客户端就会把HTTP请求发送给目标服务器；如果是HTTPS协议，还需要进行TLS四次握手，客户端才会把HTTP报文发送给目标服务器 目标服务器收到HTTP报文后，返回HTTP响应消息，浏览器对响应消息进行解析渲染，呈现给用户 DNS是如何解析的？属于哪一层的协议？ DNS属于应用层的协议，客户端在进行DNS解析时，首先会查看浏览器和操作系统是否缓存域名对应的IP地址，如果没有就向本地DNS服务器发出查询请求，接着本地DNS向根DNS发送查询请求，根DNS服务器返回顶级域名服务器地址，本地DNS服务器向顶级域名服务器发送查询请求，顶级域名服务器返回权威域名服务器的IP地址，本地DNS服务器再向权威域名服务器发出查询请求，权威域名服务器收到请求后，就返回域名对应的IP地址了，本地DNS服务器返回查询结果给客户端，然后将本次查询得到的结果保存到缓存里，以备下次使用
DNS域名解析使用的是什么协议？ DNS中，域名的解析是通过UDP协议进行的
UPD是一种无连接的传输层协议，提供了一种简单的传输机制，适用于实时性比较高的应用场景。DNS使用UDP协议进行域名解析是因为域名解析是短小且频繁的请求，UDP的无连接特性可以减少建立连接和断开连接的开销，提高传输效率
UPD协议对于TCP协议的缺点是没办法保证数据传输的可靠性，针对这个缺点可以在应用层实现超时重传机制，如果域名解决请求在一定的时间内没有收到响应，那么就重发域名解析
输入域名怎么找到端口号？ http的默认端口是80；https的默认端口号是443； 如果用户指定了端口，可以在url中获取，比如域名:8080，这时候使用的端口是8080
网络传输场景 tcp连接一个不存在的IP地址会发生什么？ 如果IP地址是局域网内，客户端的内核在发生arp请求的时候，广播这个目标IP是谁的，但是由于网络中不存在这个IP地址，所以没有设备应答，会卡在arp协议，客户端的SYN报文无法发送出去 如果这个IP地址不是局域网的，客户端会将SYN报文交给路由器，由路由器继续转发，由于目标IP地址是不存在的，该SYN报文会在网络中消亡；客户端由于一直接收不到SYN报文的确认报文，会触发超时重传机制，直到最大的重试次数，客户端的连接会被释放 tcp连接一个IP地址存在但是端口不存在的服务端会发生什么？ 端口不存在的话，代表服务端没有监听这个端口，服务端在接收到客户端的SYN包后，返回RST报文，客户端接收到RST报文后，会断开连接
UDP发送一个IP地址存在但是端口不存在报文会发生什么？ 服务端会回ICMP报文，报告端口不可用"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="interviews"><meta name=twitter:card content="summary"><meta name=twitter:title content="ch.hugo"><meta name=twitter:description content="OSI的7层网络模型？各层的协议有什么？ 应用层：确定进程间通信的性质以及满足用户需要以及提高网络和用户应用 表示层：主要解决用户信息的语法表达 会话层：复制建立、管理和终止表示层实体之间的通信会话 传输层：实现网络不同主机上的用户进程间的数据通信，可靠和不可靠的传输 网络层：本层通过IP寻址来建立两个节点之间的连接 数据链路层：将上层数据封装成帧，用MAC地址访问媒介 物理层：设备之间比特流的传输，物理接口 回答： OSI参考模型有7层，应用层、表示层、会话层、传输层、网络层、数据链路层、物理层 应用层有HTTP、HTTPS，传输层有TCP和UDP协议，网络层有IP、ICMP、ARP协议
网络分层的好处：对各层之间进行解耦，层与层之间不产生关联，比如应用层HTTP协议从HTTP1.1升级到HTTP2.0的时候，不会对传输层和网络层有影响，或者网络层的IPv4协议升级到IPv6协议的时候，不会影响到应用，传输层
TCP/IP协议是将OSI模型的应用层、表示层、会话层统一为应用层，数据链路层和物理层统一为网络接口层
TCP/IP的四层网络模型？ 应用层 传输层 网络层 数据链路层（网络接口层） 五层因特网协议栈？ 应用层、运输层、网络层、链路层、物理层
OSI七层网络协议 TCP/IP四层概念模型 对于网络协议 应用层
—
表示层
—
会话层 应用层（4） HTTP、TFTP、FTP、NFS、WAIS、SMTP
–
Telnet、Rlogin、SNMP、Gopher
–
SMTP、DNS 键入网址场景问题 键入网址后，期间发送了什么？ http/https -> dns -> tcp -> ip -> arp
浏览器会解析网址，解析出域名，资源路径，端口等信息，构造HTTP请求报文 将域名解析为IP地址，先查看系统缓存是否有域名信息，有的话返回IP地址；没有就查看本地host文件没有域名信息，有就返回IP地址；如果再没有就查看本地DNS服务器，如果本地DNS服务器中有域名信息，就返回IP地址，否则本地DNS服务器分别去根域名服务器->顶级域名服务器->权威域名服务器询问，最后拿到IP地址 HTTP协议是基于TCP协议传输的，所以要先进行TCP三次握手， 然后到网络层，加上IP头，同时填上目标IP地址和源IP地址 然后到数据链路层，通过ARP协议，获取路由器的MAC地址，然后加上MAC头，填上目标MAC地址和源MAC地址 然后到物理层，直接把数据包转发给路由器，路由器再通过下一跳，找到最终的目的服务器 当双方完成三次握手后，如果是HTTP协议，客户端就会把HTTP请求发送给目标服务器；如果是HTTPS协议，还需要进行TLS四次握手，客户端才会把HTTP报文发送给目标服务器 目标服务器收到HTTP报文后，返回HTTP响应消息，浏览器对响应消息进行解析渲染，呈现给用户 DNS是如何解析的？属于哪一层的协议？ DNS属于应用层的协议，客户端在进行DNS解析时，首先会查看浏览器和操作系统是否缓存域名对应的IP地址，如果没有就向本地DNS服务器发出查询请求，接着本地DNS向根DNS发送查询请求，根DNS服务器返回顶级域名服务器地址，本地DNS服务器向顶级域名服务器发送查询请求，顶级域名服务器返回权威域名服务器的IP地址，本地DNS服务器再向权威域名服务器发出查询请求，权威域名服务器收到请求后，就返回域名对应的IP地址了，本地DNS服务器返回查询结果给客户端，然后将本次查询得到的结果保存到缓存里，以备下次使用
DNS域名解析使用的是什么协议？ DNS中，域名的解析是通过UDP协议进行的
UPD是一种无连接的传输层协议，提供了一种简单的传输机制，适用于实时性比较高的应用场景。DNS使用UDP协议进行域名解析是因为域名解析是短小且频繁的请求，UDP的无连接特性可以减少建立连接和断开连接的开销，提高传输效率
UPD协议对于TCP协议的缺点是没办法保证数据传输的可靠性，针对这个缺点可以在应用层实现超时重传机制，如果域名解决请求在一定的时间内没有收到响应，那么就重发域名解析
输入域名怎么找到端口号？ http的默认端口是80；https的默认端口号是443； 如果用户指定了端口，可以在url中获取，比如域名:8080，这时候使用的端口是8080
网络传输场景 tcp连接一个不存在的IP地址会发生什么？ 如果IP地址是局域网内，客户端的内核在发生arp请求的时候，广播这个目标IP是谁的，但是由于网络中不存在这个IP地址，所以没有设备应答，会卡在arp协议，客户端的SYN报文无法发送出去 如果这个IP地址不是局域网的，客户端会将SYN报文交给路由器，由路由器继续转发，由于目标IP地址是不存在的，该SYN报文会在网络中消亡；客户端由于一直接收不到SYN报文的确认报文，会触发超时重传机制，直到最大的重试次数，客户端的连接会被释放 tcp连接一个IP地址存在但是端口不存在的服务端会发生什么？ 端口不存在的话，代表服务端没有监听这个端口，服务端在接收到客户端的SYN包后，返回RST报文，客户端接收到RST报文后，会断开连接
UDP发送一个IP地址存在但是端口不存在报文会发生什么？ 服务端会回ICMP报文，报告端口不可用"><link rel=stylesheet href=/css/components.min.9d886688d3ae94cecf1b057e706bf74497fcd5cea352d433c34cda3b9425a8d4.css integrity="sha256-nYhmiNOulM7PGwV+cGv3RJf81c6jUtQzw0zaO5QlqNQ=" crossorigin=anonymous><link rel=stylesheet href=/css/main.min.17813e97a146cc70fc6064666a89082f1ef2f6213c7d3fade88402a86cf8aa3c.css integrity="sha256-F4E+l6FGzHD8YGRmaokILx7y9iE8fT+t6IQCqGz4qjw=" crossorigin=anonymous><link rel=stylesheet href=/css/root.min.1677bc99f2421f7cb9fc1d00b09addcc951fd9d4c785e22b20ed55c0602786fc.css integrity="sha256-Fne8mfJCH3y5/B0AsJrdzJUf2dTHheIrIO1VwGAnhvw=" crossorigin=anonymous><link rel=stylesheet href=/css/search.min.cb1ed1dad3ee872e229e9f1fc681bdbd20d923389f1fa6aaf89f9aee93af4fbf.css integrity="sha256-yx7R2tPuhy4inp8fxoG9vSDZIzifH6aq+J+a7pOvT78=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.4878d16c866148ae8cfd6f4f44052d25f2548b24ab4a9bc857279dc6d06df2b5.css integrity="sha256-SHjRbIZhSK6M/W9PRAUtJfJUiySrSpvIVyedxtBt8rU=" crossorigin=anonymous><script src=/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js integrity="sha256-HZgPhN8R8+t8jF8X9UHUmgYRYI3xed10+n8GIl61as4="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://chhz0.github.io/ style=color:inherit>ch.hugo</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a href=/blogs/>博客</a></div><div class=nav-item><a href=/notes/>笔记</a></div><div class=nav-item><a href=/about/>关于</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a href=/blogs/>博客</a></div><div class=nav-item><a href=/notes/>笔记</a></div><div class=nav-item><a href=/about/>关于</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
<svg class="dark-icon" viewBox="0 0 24 24" fill="none"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
</a>|
<a id=theme-switcher href=https://github.com/chhz0 aria-label=GitHub><svg class="light-icon" width="800" height="800" viewBox="0 0 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>github [#142]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#fff"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M94 7399C99.523 7399 104 7403.59 104 7409.253 104 7413.782 101.138 7417.624 97.167 7418.981 96.66 7419.082 96.48 7418.762 96.48 7418.489 96.48 7418.151 96.492 7417.047 96.492 7415.675 96.492 7414.719 96.172 7414.095 95.813 7413.777 98.04 7413.523 100.38 7412.656 100.38 7408.718 100.38 7407.598 99.992 7406.684 99.35 7405.966 99.454 7405.707 99.797 7404.664 99.252 7403.252 99.252 7403.252 98.414 7402.977 96.505 7404.303 95.706 7404.076 94.85 7403.962 94 7403.958 93.15 7403.962 92.295 7404.076 91.497 7404.303 89.586 7402.977 88.746 7403.252 88.746 7403.252 88.203 7404.664 88.546 7405.707 88.649 7405.966 88.01 7406.684 87.619 7407.598 87.619 7408.718 87.619 7412.646 89.954 7413.526 92.175 7413.785 91.889 7414.041 91.63 7414.493 91.54 7415.156 90.97 7415.418 89.522 7415.871 88.63 7414.304 88.63 7414.304 88.101 7413.319 87.097 7413.247 87.097 7413.247 86.122 7413.234 87.029 7413.87 87.029 7413.87 87.684 7414.185 88.139 7415.37 88.139 7415.37 88.726 7417.2 91.508 7416.58 91.513 7417.437 91.522 7418.245 91.522 7418.489 91.522 7418.76 91.338 7419.077 90.839 7418.982 86.865 7417.627 84 7413.783 84 7409.253 84 7403.59 88.478 7399 94 7399" id="github-[#142]"/></g></g></g></svg><svg class="dark-icon" width="800" height="800" viewBox="0 0 20 20" xmlns:xlink="http://www.w3.org/1999/xlink"><title>github [#142]</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M94 7399C99.523 7399 104 7403.59 104 7409.253 104 7413.782 101.138 7417.624 97.167 7418.981 96.66 7419.082 96.48 7418.762 96.48 7418.489 96.48 7418.151 96.492 7417.047 96.492 7415.675 96.492 7414.719 96.172 7414.095 95.813 7413.777 98.04 7413.523 100.38 7412.656 100.38 7408.718 100.38 7407.598 99.992 7406.684 99.35 7405.966 99.454 7405.707 99.797 7404.664 99.252 7403.252 99.252 7403.252 98.414 7402.977 96.505 7404.303 95.706 7404.076 94.85 7403.962 94 7403.958 93.15 7403.962 92.295 7404.076 91.497 7404.303 89.586 7402.977 88.746 7403.252 88.746 7403.252 88.203 7404.664 88.546 7405.707 88.649 7405.966 88.01 7406.684 87.619 7407.598 87.619 7408.718 87.619 7412.646 89.954 7413.526 92.175 7413.785 91.889 7414.041 91.63 7414.493 91.54 7415.156 90.97 7415.418 89.522 7415.871 88.63 7414.304 88.63 7414.304 88.101 7413.319 87.097 7413.247 87.097 7413.247 86.122 7413.234 87.029 7413.87 87.029 7413.87 87.684 7414.185 88.139 7415.37 88.139 7415.37 88.726 7417.2 91.508 7416.58 91.513 7417.437 91.522 7418.245 91.522 7418.489 91.522 7418.76 91.338 7419.077 90.839 7418.982 86.865 7417.627 84 7413.783 84 7409.253 84 7403.59 88.478 7399 94 7399" id="github-[#142]"/></g></g></g></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://chhz0.github.io/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://chhz0.github.io/interviews/><span itemprop=name>Interviews</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>Network</h1><time class=dim datetime=0001-01-01T00:00:00+00:00>January 1, 1</time></div><section class=page-section><h2 id=osi的7层网络模型各层的协议有什么>OSI的7层网络模型？各层的协议有什么？</h2><ul><li>应用层：确定进程间通信的性质以及满足用户需要以及提高网络和用户应用</li><li>表示层：主要解决用户信息的语法表达</li><li>会话层：复制建立、管理和终止表示层实体之间的通信会话</li><li>传输层：实现网络不同主机上的用户进程间的数据通信，可靠和不可靠的传输</li><li>网络层：本层通过IP寻址来建立两个节点之间的连接</li><li>数据链路层：将上层数据封装成帧，用MAC地址访问媒介</li><li>物理层：设备之间比特流的传输，物理接口</li></ul><p>回答：
OSI参考模型有7层，应用层、表示层、会话层、传输层、网络层、数据链路层、物理层
应用层有HTTP、HTTPS，传输层有TCP和UDP协议，网络层有IP、ICMP、ARP协议</p><blockquote><p>网络分层的好处：对各层之间进行解耦，层与层之间不产生关联，比如应用层HTTP协议从HTTP1.1升级到HTTP2.0的时候，不会对传输层和网络层有影响，或者网络层的IPv4协议升级到IPv6协议的时候，不会影响到应用，传输层</p></blockquote><blockquote><p>TCP/IP协议是将OSI模型的应用层、表示层、会话层统一为应用层，数据链路层和物理层统一为网络接口层</p></blockquote><h2 id=tcpip的四层网络模型>TCP/IP的四层网络模型？</h2><ul><li>应用层</li><li>传输层</li><li>网络层</li><li>数据链路层（网络接口层）</li></ul><h2 id=五层因特网协议栈>五层因特网协议栈？</h2><p>应用层、运输层、网络层、链路层、物理层</p><table><thead><tr><th>OSI七层网络协议</th><th>TCP/IP四层概念模型</th><th>对于网络协议</th></tr></thead><tbody><tr><td>应用层<br>&mdash;<br>表示层<br>&mdash;<br>会话层</td><td>应用层（4）</td><td>HTTP、TFTP、FTP、NFS、WAIS、SMTP<br>&ndash;<br>Telnet、Rlogin、SNMP、Gopher<br>&ndash;<br>SMTP、DNS</td></tr></tbody></table><h2 id=键入网址场景问题>键入网址场景问题</h2><h3 id=键入网址后期间发送了什么>键入网址后，期间发送了什么？</h3><blockquote><p>http/https -> dns -> tcp -> ip -> arp</p></blockquote><ol><li>浏览器会解析网址，解析出域名，资源路径，端口等信息，构造HTTP请求报文</li><li>将域名解析为IP地址，先查看系统缓存是否有域名信息，有的话返回IP地址；没有就查看本地host文件没有域名信息，有就返回IP地址；如果再没有就查看本地DNS服务器，如果本地DNS服务器中有域名信息，就返回IP地址，否则本地DNS服务器分别去根域名服务器->顶级域名服务器->权威域名服务器询问，最后拿到IP地址</li><li>HTTP协议是基于TCP协议传输的，所以要先进行TCP三次握手，</li><li>然后到网络层，加上IP头，同时填上目标IP地址和源IP地址</li><li>然后到数据链路层，通过ARP协议，获取路由器的MAC地址，然后加上MAC头，填上目标MAC地址和源MAC地址</li><li>然后到物理层，直接把数据包转发给路由器，路由器再通过下一跳，找到最终的目的服务器</li><li>当双方完成三次握手后，如果是HTTP协议，客户端就会把HTTP请求发送给目标服务器；如果是HTTPS协议，还需要进行TLS四次握手，客户端才会把HTTP报文发送给目标服务器</li><li>目标服务器收到HTTP报文后，返回HTTP响应消息，浏览器对响应消息进行解析渲染，呈现给用户</li></ol><h3 id=dns是如何解析的属于哪一层的协议>DNS是如何解析的？属于哪一层的协议？</h3><p>DNS属于应用层的协议，客户端在进行DNS解析时，首先会查看浏览器和操作系统是否缓存域名对应的IP地址，如果没有就向本地DNS服务器发出查询请求，接着本地DNS向根DNS发送查询请求，根DNS服务器返回顶级域名服务器地址，本地DNS服务器向顶级域名服务器发送查询请求，顶级域名服务器返回权威域名服务器的IP地址，本地DNS服务器再向权威域名服务器发出查询请求，权威域名服务器收到请求后，就返回域名对应的IP地址了，本地DNS服务器返回查询结果给客户端，然后将本次查询得到的结果保存到缓存里，以备下次使用</p><h3 id=dns域名解析使用的是什么协议>DNS域名解析使用的是什么协议？</h3><p>DNS中，域名的解析是通过UDP协议进行的</p><p>UPD是一种无连接的传输层协议，提供了一种简单的传输机制，适用于实时性比较高的应用场景。DNS使用UDP协议进行域名解析是因为域名解析是短小且频繁的请求，UDP的无连接特性可以减少建立连接和断开连接的开销，提高传输效率</p><p>UPD协议对于TCP协议的缺点是没办法保证数据传输的可靠性，针对这个缺点可以在应用层实现超时重传机制，如果域名解决请求在一定的时间内没有收到响应，那么就重发域名解析</p><h3 id=输入域名怎么找到端口号>输入域名怎么找到端口号？</h3><p>http的默认端口是80；https的默认端口号是443；
如果用户指定了端口，可以在url中获取，比如域名:8080，这时候使用的端口是8080</p><h2 id=网络传输场景>网络传输场景</h2><h3 id=tcp连接一个不存在的ip地址会发生什么>tcp连接一个不存在的IP地址会发生什么？</h3><ul><li>如果IP地址是局域网内，客户端的内核在发生arp请求的时候，广播这个目标IP是谁的，但是由于网络中不存在这个IP地址，所以没有设备应答，会卡在arp协议，客户端的SYN报文无法发送出去</li><li>如果这个IP地址不是局域网的，客户端会将SYN报文交给路由器，由路由器继续转发，由于目标IP地址是不存在的，该SYN报文会在网络中消亡；客户端由于一直接收不到SYN报文的确认报文，会触发超时重传机制，直到最大的重试次数，客户端的连接会被释放</li></ul><h3 id=tcp连接一个ip地址存在但是端口不存在的服务端会发生什么>tcp连接一个IP地址存在但是端口不存在的服务端会发生什么？</h3><p>端口不存在的话，代表服务端没有监听这个端口，服务端在接收到客户端的SYN包后，返回RST报文，客户端接收到RST报文后，会断开连接</p><h3 id=udp发送一个ip地址存在但是端口不存在报文会发生什么>UDP发送一个IP地址存在但是端口不存在报文会发生什么？</h3><p>服务端会回ICMP报文，报告端口不可用</p></section></main><footer id=main-footer><div class=footer><a href=#>回到顶部 ↑</a><div class=footer-copyright><div>© 2025 Chen-Hang</div><div>powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>1727 字数</span>
<span>5 - 6 阅读时间</span></div><h3>目录</h3><nav id=TableOfContents><ul><li><a href=#osi的7层网络模型各层的协议有什么>OSI的7层网络模型？各层的协议有什么？</a></li><li><a href=#tcpip的四层网络模型>TCP/IP的四层网络模型？</a></li><li><a href=#五层因特网协议栈>五层因特网协议栈？</a></li><li><a href=#键入网址场景问题>键入网址场景问题</a><ul><li><a href=#键入网址后期间发送了什么>键入网址后，期间发送了什么？</a></li><li><a href=#dns是如何解析的属于哪一层的协议>DNS是如何解析的？属于哪一层的协议？</a></li><li><a href=#dns域名解析使用的是什么协议>DNS域名解析使用的是什么协议？</a></li><li><a href=#输入域名怎么找到端口号>输入域名怎么找到端口号？</a></li></ul></li><li><a href=#网络传输场景>网络传输场景</a><ul><li><a href=#tcp连接一个不存在的ip地址会发生什么>tcp连接一个不存在的IP地址会发生什么？</a></li><li><a href=#tcp连接一个ip地址存在但是端口不存在的服务端会发生什么>tcp连接一个IP地址存在但是端口不存在的服务端会发生什么？</a></li><li><a href=#udp发送一个ip地址存在但是端口不存在报文会发生什么>UDP发送一个IP地址存在但是端口不存在报文会发生什么？</a></li></ul></li></ul></nav></aside></div></div></body></html>