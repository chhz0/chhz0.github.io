<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Redis on ch.hugo</title><link>https://chhz0.github.io/tags/redis/</link><description>Recent content in Redis on ch.hugo</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Thu, 03 Jul 2025 22:06:22 +0800</lastBuildDate><atom:link href="https://chhz0.github.io/tags/redis/rss.xml" rel="self" type="application/rss+xml"/><item><title>Redis - Todo</title><link>https://chhz0.github.io/notes/database/redis/todo/</link><pubDate>Thu, 03 Jul 2025 22:06:22 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/todo/</guid><description>&lt;blockquote>
&lt;p>Redisä»£åŠžäº‹é¡¹&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Redis æ•°æ®ç»“æž„
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> å­—ç¬¦ä¸² String&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> é“¾è¡¨ LinkList&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> é›†åˆ Set&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> æœ‰åºé›†åˆ ZSet&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> å“ˆå¸Œè¡¨ Hash&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> è·³è¡¨ SkipList&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Redis æž¶æž„
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> å•çº¿ç¨‹æ¨¡åž‹&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Reactor&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> å¤šçº¿ç¨‹&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> è¿‡æœŸæ·˜æ±°ç®—æ³•&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Redis æŒä¹…åŒ–
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> AOF&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> RDB&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> æ··åˆæŒä¹…&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Redis ç¼“å­˜åº”ç”¨
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> ç¼“å­˜å‡»ç©¿&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> ç¼“å­˜ç©¿é€&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> ç¼“å­˜é›ªå´©&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> ç¼“å­˜ä¸€è‡´æ€§&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Redis é›†ç¾¤
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> ä¸»ä»Žæ¨¡å¼&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> å“¨å…µæ¨¡å¼&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> é›†ç¾¤æ¨¡å¼&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> ä¸€è‡´æ€§hash&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Redis åº”ç”¨åœºæ™¯
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> åˆ†å¸ƒå¼é”&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> æŸ¥è¯¢ç¼“å­˜&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Redis - Encoding&lt;HashTable></title><link>https://chhz0.github.io/notes/database/redis/datatypes/encoding/hashtable/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/encoding/hashtable/</guid><description>&lt;h2 id="redis-enc-hashtable-">Redis&amp;lt; enc-HashTable &amp;gt;&lt;/h2>
&lt;p>&lt;code>HASHTABLE&lt;/code>å¯ä»¥ä½¿ç”¨O(1)æ—¶é—´å¤æ‚åº¦èƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°&lt;code>field&lt;/code>å¯¹åº”çš„&lt;code>value&lt;/code>ï¼Œç®€å•ç†è§£ï¼Œ&lt;code>HASHTABLE&lt;/code>æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ‰¾åˆ°éœ€è¦å†…å®¹&lt;/p>
&lt;p>&lt;code>HASHTABLE&lt;/code>çš„ç»“æž„:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">typedef&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> dictht {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dictEntry &lt;span style="color:#f92672">**&lt;/span>table;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> size;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> sizemask;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> used;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>} dictht;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€å¤–å±‚å°è£…ä¸€ä¸ª&lt;code>dictht&lt;/code>ç»“æž„ï¼Œå­—æ®µå«ä¹‰å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Table&lt;/code>: æŒ‡å‘å®žé™…hashå­˜å‚¨ã€‚å­˜å‚¨å¯ä»¥çœ‹åšä¸€ä¸ªæ•°ç»„&lt;/li>
&lt;li>&lt;code>Size&lt;/code>: å“ˆå¸Œè¡¨å¤§å°ï¼Œå®žé™…å°±æ˜¯dictEntryæœ‰å¤šå°‘å…ƒç´ ç©ºé—´&lt;/li>
&lt;li>&lt;code>Sizemask&lt;/code>: å“ˆå¸Œè¡¨å¤§å°çš„æŽ©ç è¡¨ç¤ºï¼Œæ€»æ˜¯ç­‰äºŽsize-1. è¿™ä¸ªå±žæ€§å’Œå“ˆå¸Œå€¼ä¸€èµ·å†³å®šä¸€ä¸ªé”®åº”è¯¥æ”¾åˆ°tableæ•°ç»„çš„é‚£ä¸ªç´¢å¼•ä¸Šé¢ï¼Œè§„åˆ™ &lt;strong>Index = hash &amp;amp; sizemask&lt;/strong>.&lt;/li>
&lt;li>&lt;code>Used&lt;/code>: è¡¨ç¤ºå·²ç»ä½¿ç”¨çš„èŠ‚ç‚¹æ•°é‡ã€‚é€šè¿‡è¿™ä¸ªå­—æ®µå¯ä»¥æŸ¥è¯¢ç›®å‰HASHTABLEå…ƒç´ æ€»é‡&lt;/li>
&lt;/ul>
&lt;p>&lt;code>dictEntry&lt;/code>ç»“æž„å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">typedef&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> dictEntry {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#f92672">*&lt;/span>key;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">union&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#f92672">*&lt;/span>val;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">uint64_t&lt;/span> u64;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int64_t&lt;/span> s64;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">double&lt;/span> d;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } v;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">struct&lt;/span> dictEntry &lt;span style="color:#f92672">*&lt;/span>next;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#f92672">*&lt;/span>metadata[];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>} dictEntry;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://chhz0.github.io/redis/redis-encoding-hashtable-struct.drawio.svg" alt="redis-encodng-hashtable-struct">&lt;/p>
&lt;h3 id="hash-æ¸è¿›å¼æ‰©å®¹ç¼©å®¹">Hash æ¸è¿›å¼æ‰©å®¹/ç¼©å®¹&lt;/h3>
&lt;h4 id="æ‰©å®¹">æ‰©å®¹&lt;/h4>
&lt;p>æ¸è¿›å¼æ‰©å®¹å°±æ˜¯ä¸€ç‚¹ä¸€ç‚¹æ‰©å¤§&lt;code>HASHTABLE&lt;/code>çš„å®¹é‡ï¼Œé»˜è®¤å€¼ä¸º4 (#define DICT_HT_INTTIAL_SIZE 4)
ä¸ºäº†å®žçŽ°æ¸è¿›å¼æ‰©å®¹ï¼ŒRedisæ²¡æœ‰ç›´æŽ¥æŠŠdicthtæš´éœ²ç»™ä¸Šå±‚ï¼Œè€Œæ˜¯å†å°è£…äº†ä¸€å±‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">typedef&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> dict {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dictType &lt;span style="color:#f92672">*&lt;/span>type;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#f92672">*&lt;/span>privdata;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dictht ht[&lt;span style="color:#ae81ff">2&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> rehashidx;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> iterators;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>} dict;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>dict&lt;/code>ç»“æž„é‡Œé¢ï¼ŒåŒ…å«äº†2ä¸ªdicthtç»“æž„ï¼Œä¹Ÿå°±æ˜¯2ä¸ªHASHTABLEç»“æž„ã€‚&lt;/p></description></item><item><title>Redis - Encoding&lt;sds></title><link>https://chhz0.github.io/notes/database/redis/datatypes/encoding/sds/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/encoding/sds/</guid><description>&lt;h2 id="redis-enc-sds-">Redis&amp;lt; enc-SDS &amp;gt;&lt;/h2>
&lt;p>sds(Simple Synamic String)ï¼Œç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼Œæ˜¯rediså†…éƒ¨ä½œä¸ºåŸºçŸ³çš„å­—ç¬¦ä¸²å°è£…ï¼ˆå¾ˆé‡è¦ï¼‰&lt;/p>
&lt;p>sdsæ˜¯rediså°è£…å­—ç¬¦ä¸²ç»“æž„ï¼Œç”¨ä»¥è§£å†³å­—ç¬¦ä¸²è¿½åŠ å’Œé•¿åº¦è®¡ç®—æ“ä½œæ¥å¸¦çš„æ€§èƒ½ç“¶é¢ˆé—®é¢˜&lt;/p>
&lt;p>redisä¸­SDSåˆ†ä¸ºsdshdr8ã€sdshdr16ã€sdshdr32ã€sdshdr64ï¼Œå­—æ®µå±žæ€§ä¸€è‡´ï¼ŒåŒºåˆ«å†å¯¹åº”ä¸åŒå¤§å°çš„å­—ç¬¦ä¸²&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">struct&lt;/span> &lt;span style="color:#a6e22e">__attribute__&lt;/span>((__packed__)) sdshdr8 {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">uint8_t&lt;/span> len; &lt;span style="color:#75715e">// ä½¿ç”¨äº†å¤šå°‘å†…éƒ¨
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">uint8_t&lt;/span> alloc; &lt;span style="color:#75715e">// åˆ†é…äº†å¤šå°‘å†…å­˜
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">char&lt;/span> flags; &lt;span style="color:#75715e">// æ ‡è®°æ˜¯ä»€ä¹ˆåˆ†ç±» ä¾‹å¦‚ï¼š #define SDS_TYPE_8 1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">char&lt;/span> buf[];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»Žä¸Šé¢çš„ç»“æž„å¯ä»¥çœ‹å‡ºSDSæ˜¯æ€Žä¹ˆè§£å†³é—®é¢˜çš„ï¼š&lt;/p>
&lt;ol>
&lt;li>å¢žåŠ lenå­—æ®µï¼Œå¿«é€Ÿè¿”å›žé•¿åº¦&lt;/li>
&lt;li>å¢žåŠ ç©ºä½™ç©ºé—´(alloc - len)ï¼Œä¸ºåŽç»­è¿½åŠ æ•°æ®ç•™ä½™åœ°&lt;/li>
&lt;li>ä¸è¦ä»¥&amp;rsquo;\0&amp;rsquo;ä½œä¸ºåˆ¤æ–­æ ‡å‡†ï¼ŒäºŒè¿›åˆ¶å®‰å…¨&lt;/li>
&lt;/ol>
&lt;p>SDSé¢„ç•™ç©ºé—´å¤§å°çš„è§„åˆ™ï¼šalloc = min(len, 1M) + lenï¼š&lt;/p>
&lt;ul>
&lt;li>lenå°äºŽ1Mçš„æƒ…å†µä¸‹ï¼Œalloc=2*len, é¢„ç•™lenå¤§å°çš„ç©ºé—´&lt;/li>
&lt;li>lenå¤§äºŽ1Mçš„æƒ…å†µä¸‹ï¼Œalloc=1M+lne, é¢„ç•™1Må¤§å°çš„ç©ºé—´&lt;/li>
&lt;/ul></description></item><item><title>Redis - Encoding&lt;SkipList></title><link>https://chhz0.github.io/notes/database/redis/datatypes/encoding/skiplist/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/encoding/skiplist/</guid><description>&lt;h2 id="redis-enc-skiplist-">Redis&amp;lt; enc-SkipList &amp;gt;&lt;/h2>
&lt;p>è·³è¡¨æ˜¯Redisæœ‰åºé›†åˆZSetåº•å±‚çš„æ•°æ®ç»“æž„&lt;/p>
&lt;p>redisä¸­è·³è¡¨çš„ä¸¤å¤„åº”ç”¨ï¼š&lt;/p>
&lt;pre>&lt;code>1. å®žçŽ°æœ‰åºé›†åˆé”®
2. åœ¨é›†ç¾¤èŠ‚ç‚¹ä¸­ä½œä¸ºå†…éƒ¨æ•°æ®ç»“æž„
&lt;/code>&lt;/pre>
&lt;p>ä»Žæœ¬è´¨ä¸Šçœ‹æ˜¯é“¾è¡¨ï¼Œè¿™ç§ç»“æž„è™½ç„¶ç®€å•æ¸…æ™°ï¼Œä½†æ˜¯æŸ¥è¯¢æŸä¸ªèŠ‚ç‚¹çš„æ•ˆçŽ‡æ¯”è¾ƒä½Žï¼Œè€Œåœ¨æœ‰åºé›†åˆåœºæ™¯ï¼Œæ— è®ºæ˜¯æŸ¥æ‰¾è¿˜æ˜¯æ·»åŠ åˆ é™¤å…ƒç´ ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦å¿«é€Ÿé€šè¿‡scoreå®šä½åˆ°å…·ä½“ä½ç½®ï¼Œå¦‚æžœæ˜¯é“¾è¡¨çš„è¯æ—¶é—´å¤æ‚åº¦æ˜¯O(N)&lt;/p>
&lt;p>ä¸ºäº†æé«˜æŸ¥æ‰¾çš„æ€§èƒ½ï¼ŒRediså¼•å…¥è·³è¡¨ï¼Œè·³è¡¨åœ¨é“¾è¡¨çš„åŸºç¡€ä¸Šï¼Œç»™é“¾è¡¨å¢žåŠ äº†å¤šçº§çš„ç´¢å¼•ï¼Œé€šè¿‡ç´¢å¼•å¯ä»¥ä¸€æ¬¡å®žçŽ°å¤šä¸ªèŠ‚ç‚¹çš„è·³è·ƒï¼Œæé«˜æ€§èƒ½&lt;/p>
&lt;h3 id="skiplist-ç»“æž„">SKIPLIST ç»“æž„&lt;/h3>
&lt;p>Redis &lt;code>SKIPLIST&lt;/code> å•èŠ‚ç‚¹çš„ç»“æž„:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">typedef&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> zskiplistNode {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sds ele;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">double&lt;/span> score;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">struct&lt;/span> zskiplistNode &lt;span style="color:#f92672">*&lt;/span>backward;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">struct&lt;/span> zskiplistLevel {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">struct&lt;/span> zskiplistNode &lt;span style="color:#f92672">*&lt;/span>forward;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> span;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } level[];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>} zskiplistNode;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å­—æ®µçš„å®šä¹‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Ele&lt;/code>: SDSç»“æž„ï¼Œç”¨æ¥å­˜å‚¨æ•°æ®&lt;/li>
&lt;li>&lt;code>Score&lt;/code>: èŠ‚ç‚¹çš„åˆ†æ•°ï¼Œæµ®ç‚¹åž‹æ•°æ®&lt;/li>
&lt;li>&lt;code>Backward&lt;/code>: æŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å›žé€€æŒ‡é’ˆï¼Œæ”¯æŒä»Žè¡¨å°¾å‘è¡¨å¤´éåŽ†ï¼Œä¹Ÿå°±æ˜¯ZREVRANGEè¿™ä¸ªå‘½ä»¤&lt;/li>
&lt;li>&lt;code>level&lt;/code>: æ˜¯ä¸ªzskiplistLevelç»“æž„ä½“æ•°ç»„ï¼ŒåŒ…å«ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªæ˜¯forwardï¼ŒæŒ‡å‘è¯¥å±‚ä¸‹ä¸ªèƒ½è·³åˆ°çš„èŠ‚ç‚¹ï¼Œspanè®°å½•è·ç¦»ä¸‹ä¸ªèŠ‚ç‚¹çš„æ­¥æ•°ï¼Œæ•°ç»„ç»“æž„è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹å¯èƒ½æ˜¯å¤šå±‚ç»“æž„&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>åœ¨æ ‡å‡†çš„è·³è¡¨ä¸­ï¼Œscoreå€¼æ˜¯ä¸å¯é‡å¤çš„ï¼Œä½†æ˜¯åœ¨Redis ZIPLISTä¸­ï¼Œscoreå€¼æ˜¯å¯é‡å¤çš„ï¼Œå¢žåŠ äº†å›žé€€æŒ‡é’ˆ&lt;/p>&lt;/blockquote>
&lt;h3 id="skiplist-ç»†èŠ‚">SKIPLIST ç»†èŠ‚&lt;/h3>
&lt;ul>
&lt;li>Redisè·³è¡¨å•ä¸ªèŠ‚ç‚¹æœ‰å‡ å±‚ï¼Ÿ&lt;/li>
&lt;/ul>
&lt;p>å±‚æ¬¡çš„å†³å®šï¼Œéœ€è¦æ¯”è¾ƒéšæœºï¼Œæ‰èƒ½åœ¨å„ä¸ªåœºæ™¯è¡¨çŽ°å‡ºè¾ƒå¹³å‡çš„æ€§èƒ½ï¼Œè¿™é‡ŒRedisä½¿ç”¨æ¦‚çŽ‡å‡è¡¡çš„æ€è·¯æ¥ç¡®å®šæ’å…¥èŠ‚ç‚¹çš„å±‚æ•°ï¼š&lt;/p>
&lt;p>Redisè·³è¡¨å†³å®šæ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ˜¯å¦èƒ½å¢žåŠ ä¸€å±‚çš„æ¦‚çŽ‡ä¸º25%ï¼Œè€Œæœ€å¤§å±‚æ•°é™åˆ¶åœ¨Redis 5.0æ˜¯64å±‚ï¼Œåœ¨Redis 7.0æ˜¯32å±‚&lt;/p>
&lt;ul>
&lt;li>Redisè·³è¡¨çš„æ€§èƒ½ä¼˜åŒ–äº†å¤šå°‘ï¼Ÿ&lt;/li>
&lt;/ul>
&lt;p>å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(log(n))ï¼Œè·³è¡¨çš„æœ€åå¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼Œå½“ç„¶å®žé™…çš„ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œä½“çŽ°å‡ºæ¥çš„åŸºæœ¬æ˜¯è·³è¡¨çš„å¹³å‡æ—¶é—´å¤æ‚åº¦&lt;/p></description></item><item><title>Redis - Encoding&lt;ZipList></title><link>https://chhz0.github.io/notes/database/redis/datatypes/encoding/ziplist/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/encoding/ziplist/</guid><description>&lt;h2 id="redis-enc-ziplist-">Redis&amp;lt; enc-ZipList &amp;gt;&lt;/h2>
&lt;p>&lt;code>ZIPLIST&lt;/code>åŽ‹ç¼©åˆ—è¡¨ï¼Œæ˜¯æŽ’åˆ—ç´§å‡‘çš„åˆ—è¡¨ï¼Œä¸ºRedisä¾›ç´§å‡‘åž‹çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œèƒ½èŠ‚çº¦å†…å­˜ï¼ˆèŠ‚çœé“¾è¡¨æŒ‡é’ˆçš„å¼€é”€ï¼‰ï¼Œæ•°æ®é‡å°çš„æ—¶å€™éåŽ†è®¿é—®æ€§èƒ½å¥½ï¼ˆè¿žç»­+ç¼“å­˜å‘½ä¸­çŽ‡å‹å¥½ï¼‰&lt;/p>
&lt;p>å…³äºŽ&lt;code>LISTPACK&lt;/code>æ˜¯Redis 5.0å¼•å…¥ï¼ŒRedis 7.0å®Œå…¨æ›¿ä»£&lt;code>ZIPLIST&lt;/code>.&lt;/p>
&lt;h3 id="ziplsit-æ•´ä½“ç»“æž„">ZIPLSIT æ•´ä½“ç»“æž„&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>// redisä»£ç æ³¨é‡Šï¼Œæè¿°äº†ZIPLISTçš„ç»“æž„
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;zlbytes&amp;gt; &amp;lt;zltail&amp;gt; &amp;lt;zllen&amp;gt; &amp;lt;entry&amp;gt; &amp;lt;entry&amp;gt; ... &amp;lt;entry&amp;gt; &amp;lt;zlend&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å„å­—æ®µå®šä¹‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>zlbytes&lt;/code>: è¡¨ç¤ºè¯¥ZIPLISTä¸€å…±å äº†å¤šå°‘å­—èŠ‚ï¼Œè¿™ä¸ªæ•°å­—æ˜¯åŒ…å«zlbytesæœ¬èº«å æ®çš„å­—èŠ‚çš„&lt;/li>
&lt;li>&lt;code>zltail&lt;/code>: ZIPLISTå°¾å·´èŠ‚ç‚¹ï¼Œç›¸å¯¹äºŽZIPLISTçš„å¼€å¤´ï¼Œåç§»çš„å­—èŠ‚æ•°&lt;/li>
&lt;li>&lt;code>zllen&lt;/code>: è¡¨ç¤ºæœ‰å¤šå°‘ä¸ªæ•°æ®èŠ‚ç‚¹&lt;/li>
&lt;li>&lt;code>entry&lt;/code>: è¡¨ç¤ºåŽ‹ç¼©åˆ—è¡¨çš„æ•°æ®èŠ‚ç‚¹&lt;/li>
&lt;li>&lt;code>zlend&lt;/code>: ä¸€ä¸ªç‰¹æ®Šçš„entryèŠ‚ç‚¹ï¼Œä¸º1ä¸ªå­—èŠ‚&lt;code>11111111&lt;/code>å³255å æ®ï¼Œè¡¨ç¤ºZIPLISTçš„ç»“æŸ&lt;/li>
&lt;/ul>
&lt;h3 id="ziplist-èŠ‚ç‚¹ç»“æž„---entrys">ZIPLIST èŠ‚ç‚¹ç»“æž„ - entrys&lt;/h3>
&lt;p>å…¶å®šä¹‰å¦‚ä¸‹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span> * &amp;lt;prevlen&amp;gt; &amp;lt;encoding&amp;gt; &amp;lt;entry-data&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å„å­—æ®µå«ä¹‰ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>prevlen&lt;/code>: è¡¨ç¤ºå‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦ã€‚é€šè¿‡è¯¥èŠ‚ç‚¹å®šä½åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹çš„èµ·å§‹åœ°å€ï¼Œå¦‚æžœå‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯åŽ‹ç¼©åˆ—è¡¨çš„å¼€å¤´ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—æ®µçš„å€¼ä¸º0ï¼Œé€šè¿‡è¯¥å­—æ®µï¼Œå¯ä»¥å®žçŽ°å¾€å‰æ“ä½œï¼Œå³&lt;code>ZIPLIST&lt;/code>å¯ä»¥ä»ŽåŽå¾€å‰éåŽ†.&lt;/p>
&lt;blockquote>
&lt;p>æœ‰å…³ä¸Šä¸€ä¸ª&lt;code>entry&lt;/code>çš„é•¿åº¦ï¼Œä»Ž&lt;code>prevlen&lt;/code>å­—æ®µå¯ä»¥èŽ·å¾—ï¼Œæ ¹æ®&lt;code>entry&lt;/code>çš„å¤§å°ï¼Œ&lt;code>prevlen&lt;/code>æ‰€å å­—èŠ‚ä¹Ÿä¼šæœ‰æ‰€å˜åŒ–:&lt;/p>
&lt;ul>
&lt;li>entry &amp;lt; 254 : &lt;code>prevlen&lt;/code>ä¸º1å­—èŠ‚ï¼Œ(å€¼å¾—æ³¨æ„çš„æ˜¯255åœ¨entryä¸­æ˜¯ä¸ªç‰¹æ®Šæ•°å­—ï¼Œè¢«&lt;code>zlend&lt;/code>ä½¿ç”¨ï¼Œè¡¨ç¤º&lt;code>ZIPLIST&lt;/code>çš„ç»“æŸ)&lt;/li>
&lt;li>entry &amp;gt;= 254 : &lt;code>prevlen&lt;/code>ä¸º5å­—èŠ‚ï¼Œåœ¨è¿™5ä¸ªå­—èŠ‚ä¸­ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚ä½œä¸ºæ ‡å¿—ä½ï¼Œå›ºå®šä¸º&lt;code>11111110&lt;/code>ï¼Œè¡¨ç¤º&lt;code>prevlen&lt;/code>æ˜¯5ä¸ªå­—èŠ‚ï¼ŒåŽé¢4ä¸ªå­—èŠ‚æ‰æ˜¯&lt;code>prevlen&lt;/code>è®°å½•çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹é•¿åº¦.&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>&lt;code>encoding&lt;/code>: ç¼–ç ç±»åž‹ï¼ŒåŒ…å«äº†entryçš„é•¿åº¦ä¿¡æ¯ï¼Œç”¨äºŽæ­£åºéåŽ†.&lt;/p>
&lt;blockquote>
&lt;p>encodingæ˜¯ä¸€ä¸ªæ•´åž‹æ•°æ®ï¼Œå…¶äºŒè¿›åˆ¶æ•°æ®ç”±&lt;code>entry-data&lt;/code>çš„ç±»åž‹å’Œå­—èŠ‚é•¿åº¦ç»„æˆ&lt;/p>
&lt;ul>
&lt;li>å¦‚æžœæ˜¯stringç±»åž‹ï¼Œé‚£ä¹ˆencodingç”±ä¸¤éƒ¨åˆ†ï¼Œå‰å‡ ä½ä¸ºæ ‡è¯†ä½ã€åŽå‡ ä½æ ‡è¯†é•¿åº¦&lt;/li>
&lt;li>å¦‚æžœæ˜¯intç±»åž‹ï¼Œæ•´ä½“1å­—èŠ‚ç¼–ç ï¼Œé‚£ä¹ˆä»…æ ‡è¯†ç±»åž‹ï¼Œæ ¹æ®ä¸åŒçš„intç±»åž‹ï¼Œç¡®å®šå…¶é•¿åº¦ï¼Œä¾‹å¦‚int32å°±æ˜¯32ä½ï¼Œ4å­—èŠ‚&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>&lt;code>entry-data&lt;/code>: å®žé™…çš„æ•°æ®&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ziplist-æŸ¥è¯¢æ•°æ®">ZIPLIST æŸ¥è¯¢æ•°æ®&lt;/h3>
&lt;ul>
&lt;li>èŽ·å–èŠ‚ç‚¹æ•°é‡
&lt;code>ZIPLIST&lt;/code>å¯ä»¥åœ¨O(1)æ—¶é—´å¤æ‚åº¦è¿”å›žèŠ‚ç‚¹æ•°é‡ï¼Œå› ä¸ºå…¶headerå®šä¹‰äº†è®°å½•èŠ‚ç‚¹æ•°é‡çš„&lt;code>zllen&lt;/code>ï¼Œä½†æ˜¯&lt;code>zllen&lt;/code>ä»…å 2å­—èŠ‚é•¿åº¦ï¼Œæœ€å¤§è®°å½•&lt;strong>65534&lt;/strong>ï¼Œå½“èŠ‚ç‚¹æ•°é‡è¶…è¿‡65535æ—¶ï¼Œå°±éœ€è¦é€šè¿‡éåŽ†èŠ‚ç‚¹èŽ·å–èŠ‚ç‚¹æ•°é‡.&lt;/li>
&lt;/ul>
&lt;p>ä¹‹æ‰€ä»¥zllenæ˜¯2ä¸ªå­—èŠ‚ï¼ŒåŽŸå› æ˜¯redisä¸­åº”ç”¨ZIPLISTæ˜¯ä¸ºäº†èŠ‚ç‚¹ä¸ªæ•°å°‘çš„åœºæ™¯ï¼Œæ‰€ä»¥å°†zllenè®¾è®¡å¾—æ¯”è¾ƒå°ï¼ŒèŠ‚çº¦å†…å­˜ç©ºé—´&lt;/p></description></item><item><title>Redis - Hash</title><link>https://chhz0.github.io/notes/database/redis/datatypes/hash/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/hash/</guid><description>&lt;h2 id="redis--hash-">Redis &amp;lt; Hash &amp;gt;&lt;/h2>
&lt;p>Redis Hash æ˜¯ç»“æž„åŒ–ä¸ºå­—æ®µå€¼(field)-&amp;gt;å€¼(value)é›†åˆçš„è®°å½•ç±»åž‹. å¯ä»¥ä½¿ç”¨&lt;code>Hash&lt;/code>æ¥è¡¨ç¤ºåŸºç¡€å¯¹è±¡å¹¶å­˜å‚¨è®¡æ•°å™¨åˆ†ç»„.&lt;/p>
&lt;blockquote>
&lt;p>åˆ›å»ºçš„&lt;code>Hash&lt;/code>æ•°é‡æ²¡æœ‰å®žé™…é™åˆ¶ï¼Œé™¤äº†å—åˆ°å¯ç”¨å†…å­˜çš„é™åˆ¶ï¼Œ
ä½†æ˜¯æ¯ä¸ª&lt;code>Hash&lt;/code>æœ€å¤šå¯ä»¥å­˜å‚¨ 4,294,967,295 (2^32 - 1) ä¸ªå­—æ®µå€¼å¯¹&lt;/p>&lt;/blockquote>
&lt;p>&lt;code>Hash&lt;/code>å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¡¨ç¤ºå¯¹è±¡&lt;/p>
&lt;h3 id="hash-å‘½ä»¤">Hash å‘½ä»¤&lt;/h3>
&lt;p>Hashå¸¸ç”¨å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºï¼š&lt;code>HSET&lt;/code>, &lt;code>HSETNX&lt;/code>
&lt;ul>
&lt;li>&lt;code>HSET key field value&lt;/code> # ä¸ºé›†åˆå¯¹äºŽfieldè®¾ç½®valueï¼Œå¯ä»¥ä¸€æ¬¡è®¾ç½®å¤šä¸ªfield-value&lt;/li>
&lt;li>&lt;code>HSETNX key field value&lt;/code> # å¦‚æžœfieldä¸å­˜åœ¨ï¼Œåˆ™ä¸ºé›†åˆå¯¹åº”fieldè®¾ç½®valueæ•°æ®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ï¼š&lt;code>HGETALL&lt;/code>, &lt;code>HGET&lt;/code>, &lt;code>HLEN&lt;/code>, &lt;code>HSCAN&lt;/code>
&lt;ul>
&lt;li>&lt;code>HGETALL key&lt;/code> # æŸ¥æ‰¾å…¨éƒ¨æ•°æ®&lt;/li>
&lt;li>&lt;code>HGET key field&lt;/code> # æŸ¥æ‰¾æŸä¸ªkeyï¼ˆfieldï¼‰&lt;/li>
&lt;li>&lt;code>HLEN key&lt;/code> # æŸ¥æ‰¾Hashä¸­å…ƒç´ æ€»æ•°&lt;/li>
&lt;li>&lt;code>HSCAN key cursor [MATCH pattern] [COUNT count]&lt;/code> # ä»ŽæŒ‡å®šä½ç½®æŸ¥è¯¢ä¸€å®šæ•°é‡çš„æ•°æ®ï¼Œè¿™é‡Œæ³¨æ„å¦‚æžœæ˜¯å°æ•°æ®é‡ä¸‹ï¼Œå¤„äºŽZIPLISTæ—¶ï¼ŒCOUNTä¸ç®¡å¡«å¤šå°‘ï¼Œéƒ½æ˜¯è¿”å›žå…¨éƒ¨ï¼Œå› ä¸ºZIPLISTæœ¬èº«å°±ç”¨äºŽå°é›†åˆï¼Œæ²¡å¿…è¦åˆ‡åˆ†å‡ æ®µè¿”å›ž&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–°ï¼š&lt;code>HSET&lt;/code>, &lt;code>HSETNX&lt;/code>, &lt;code>HDEL&lt;/code>
&lt;ul>
&lt;li>&lt;code>HDEL key field [field ...]&lt;/code> # åˆ é™¤æŒ‡å®šfieldï¼Œå¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ª&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ï¼š&lt;code>DEL&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key [key ...]&lt;/code> # åˆ é™¤Hashå¯¹è±¡&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="hash-ç¼–ç åº•å±‚å®žçŽ°">Hash ç¼–ç (åº•å±‚å®žçŽ°)&lt;/h3>
&lt;p>Hashåº•å±‚æœ‰ä¸¤ä¸ªç¼–ç æ–¹å¼ï¼š&lt;code>ZIPLIST&lt;/code>, &lt;code>HASHTABLE&lt;/code>&lt;/p></description></item><item><title>Redis - List</title><link>https://chhz0.github.io/notes/database/redis/datatypes/list/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/list/</guid><description>&lt;h2 id="redis--list-">Redis &amp;lt; List &amp;gt;&lt;/h2>
&lt;p>Redis Listæ˜¯ä¸€ç»„è¿žç»­çš„å­—ç¬¦ä¸²å€¼&lt;strong>é“¾è¡¨&lt;/strong>ï¼Œè¿™æ„å‘³ç€å‘Listçš„å¤´éƒ¨æˆ–è€…å°¾éƒ¨ä¸­æ·»åŠ æ–°å…ƒç´ çš„æ“ä½œä¼šåœ¨æ’å®šçš„æ—¶é—´å†…å®Œæˆï¼Œ
æ— è®ºå…¶å·²ç»å­˜å‚¨äº†å¤šå°‘å…ƒç´ ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯è®¿é—®å…ƒç´ çš„æ“ä½œåˆ™éœ€è¦éåŽ†Listï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N)&lt;/p>
&lt;p>Redis Listç»å¸¸ç”¨äºŽ:&lt;/p>
&lt;ul>
&lt;li>å®žçŽ°å †æ ˆå’Œé˜Ÿåˆ—&lt;/li>
&lt;li>ä¸ºåŽå°ç³»ç»Ÿæž„å»ºé˜Ÿåˆ—ç®¡ç†&lt;/li>
&lt;/ul>
&lt;h3 id="list-å‘½ä»¤">List å‘½ä»¤&lt;/h3>
&lt;p>å¸¸ç”¨å‘½ä»¤:&lt;/p>
&lt;ul>
&lt;li>åˆ›å»º &amp;ndash;&amp;gt; &lt;code>LPUSH&lt;/code>, &lt;code>RPUSH&lt;/code>
&lt;ul>
&lt;li>&lt;code>LPUSH key value [value ...]&lt;/code> # ä»Žå¤´éƒ¨å¢žåŠ å…ƒç´ ï¼Œè¿”å›žListä¸­å…ƒç´ æ€»æ•°&lt;/li>
&lt;li>&lt;code>RPUSH key value [value ...]&lt;/code> # ä»Žå°¾éƒ¨å¢žåŠ å…ƒç´ ï¼Œè¿”å›žListä¸­å…ƒç´ æ€»æ•°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ &amp;ndash;&amp;gt; &lt;code>LLEN&lt;/code>, &lt;code>LRANGE&lt;/code>
&lt;ul>
&lt;li>&lt;code>LLEN&lt;/code> # æŸ¥çœ‹Listçš„é•¿åº¦ï¼Œå³Listä¸­å…ƒç´ çš„æ€»æ•°&lt;/li>
&lt;li>&lt;code>LRANGE key start stop&lt;/code> # æŸ¥çœ‹startåˆ°stopä¸ºè§’æ ‡çš„å…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–° &amp;ndash;&amp;gt; &lt;code>LPUSH&lt;/code>, &lt;code>RPUSH&lt;/code>, &lt;code>LPOP&lt;/code>, &lt;code>RPOP&lt;/code>, &lt;code>LREM&lt;/code>
&lt;ul>
&lt;li>&lt;code>LPOP key&lt;/code> # ç§»é™¤å¹¶èŽ·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ &lt;/li>
&lt;li>&lt;code>RPOP key&lt;/code> # ç§»é™¤å¹¶èŽ·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ &lt;/li>
&lt;li>&lt;code>LREM key count value&lt;/code> # ç§»é™¤å€¼ç­‰äºŽvalueçš„å…ƒç´ 
&lt;ul>
&lt;li>count = 0 ï¼Œåˆ™ç§»é™¤æ‰€æœ‰ç­‰äºŽvalueçš„å…ƒç´ ï¼›&lt;/li>
&lt;li>count &amp;gt; 0 ï¼Œåˆ™ä»Žå·¦åˆ°å³å¼€å§‹ç§»é™¤countä¸ªvalueå…ƒç´ ï¼›&lt;/li>
&lt;li>count &amp;lt; 0ï¼Œåˆ™ä»Žå³å¾€å·¦ç§»é™¤countä¸ªå…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ &amp;ndash;&amp;gt; &lt;code>DEL&lt;/code>, &lt;code>UNLINK&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key [key ...]&lt;/code> # åˆ é™¤å¯¹è±¡ï¼Œè¿”å›žå€¼ä¸ºåˆ é™¤æˆåŠŸäº†å‡ ä¸ªé”®&lt;/li>
&lt;li>&lt;code>UNLIKN key [key ...]&lt;/code> # åˆ é™¤å¯¹è±¡ï¼Œè¿”å›žå€¼ä¸ºåˆ é™¤æˆåŠŸäº†å‡ ä¸ªé”®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>delå‘½ä»¤ä¸Žunlinkå‘½ä»¤å‡ä¸ºåˆ é™¤å¯¹è±¡ï¼Œä¸åŒçš„æ˜¯delå‘½ä»¤æ˜¯åŒæ­¥åˆ é™¤ç›®å½•ï¼Œä¼šé˜»å¡žå®¢æˆ·ç«¯ï¼Œç›´åˆ°åˆ é™¤å®Œæˆï¼›
unlinkå‘½ä»¤æ˜¯å¼‚æ­¥åˆ é™¤å‘½ä»¤ï¼Œåªæ˜¯å–æ¶ˆkeyåœ¨é”®ç©ºé—´çš„å…³è”ï¼Œè®©å…¶ä¸åœ¨èƒ½æŸ¥åˆ°ï¼Œåˆ é™¤æ˜¯å¼‚æ­¥è¿›è¡Œï¼Œæ‰€ä»¥ä¸ä¼šé˜»å¡žå®¢æˆ·ç«¯.&lt;/p></description></item><item><title>Redis - Multi Thread</title><link>https://chhz0.github.io/notes/database/redis/arch/multi-thread/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/arch/multi-thread/</guid><description>&lt;blockquote>
&lt;p>Redis å¤šçº¿ç¨‹æŒä¹…åŒ– | IOå¤ç”¨&lt;/p>&lt;/blockquote>
&lt;h2 id="redis-å¤šçº¿ç¨‹æŒä¹…åŒ–">Redis å¤šçº¿ç¨‹æŒä¹…åŒ–&lt;/h2>
&lt;p>Rediså¤šçº¿ç¨‹æ¨¡åž‹&lt;/p>
&lt;p>redisä¸€å¼€å§‹å°±æ˜¯åŸºäºŽå•çº¿ç¨‹æ¨¡åž‹ï¼ŒRedisé‡Œæ‰€æœ‰çš„æ•°æ®ç»“æž„éƒ½æ˜¯éžçº¿ç¨‹å®‰å…¨ï¼Œè§„é¿äº†æ•°æ®ç«žäº‰é—®é¢˜ï¼Œä½¿å¾—Rediså¯¹å„ç§æ•°æ®ç»“æž„çš„æ“ä½œéžå¸¸ç®€å•&lt;/p>
&lt;blockquote>
&lt;p>redisé€‰æ‹©å•çº¿ç¨‹çš„æ ¸å¿ƒåŽŸå› æ˜¯Rediséƒ½æ˜¯å†…å­˜æ“ä½œï¼ŒCPUå¤„ç†éƒ½éžå¸¸å¿«ï¼Œç“¶é¢ˆæ›´å®¹æ˜“å‡ºçŽ°åœ¨I/Oè€Œä¸æ˜¯CPUï¼Œæ‰€ä»¥é€‰æ‹©äº†å•çº¿ç¨‹æ¨¡åž‹&lt;/p>&lt;/blockquote>
&lt;p>éšç€æ•°æ®é‡çš„å¢žå¤§ï¼Œredisçš„ç“¶é¢ˆæ›´å®¹æ˜“å‡ºçŽ°åœ¨I/Oè€Œä¸æ˜¯CPU&lt;/p>
&lt;p>å› ä¸ºä¸Šè¿°æƒ…å†µï¼ŒRedisé€‰æ‹©äº†å¼•å…¥å¤šçº¿ç¨‹æ¥å¤„ç†ç½‘ç»œI/Oï¼Œè¿™æ ·å³ä¿æŒäº†Redisæ ¸å¿ƒçš„å•çº¿ç¨‹å¤„ç†ä»·æ ¼ï¼Œåˆå¼•å…¥äº†å¤šçº¿ç¨‹è§£å†³æé«˜ç½‘ç»œI/Oçš„æ€§èƒ½&lt;/p></description></item><item><title>Redis - redisDB</title><link>https://chhz0.github.io/notes/database/redis/arch/redisdb/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/arch/redisdb/</guid><description>&lt;blockquote>
&lt;p>Redisæ˜¯ä¸€ä¸ªåŸºäºŽå†…å­˜çš„æ•°æ®åº“ï¼Œæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨.&lt;/p>&lt;/blockquote>
&lt;h2 id="redis-æ•°æ®åº“ç»“æž„">Redis æ•°æ®åº“ç»“æž„&lt;/h2>
&lt;p>Redisçš„æ•°æ®åº“ç»“æž„ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// redisDb ç»“æž„
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>type &lt;span style="color:#66d9ef">struct&lt;/span> redisDb {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dict &lt;span style="color:#f92672">*&lt;/span>dict; &lt;span style="color:#75715e">//å­—å…¸
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dict &lt;span style="color:#f92672">*&lt;/span>expires; &lt;span style="color:#75715e">// è¿‡æœŸé”®
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dict &lt;span style="color:#f92672">*&lt;/span>blocking_keys;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dict &lt;span style="color:#f92672">*&lt;/span>ready_keys;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dict &lt;span style="color:#f92672">*&lt;/span>watched_keys;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> id;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> avg_ttl;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> list &lt;span style="color:#f92672">*&lt;/span>defrag_later;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>} redisDb;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// dict ç»“æž„
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">typedef&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> dict {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dictType &lt;span style="color:#f92672">*&lt;/span>type;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#f92672">*&lt;/span>privdata;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dictht ht[&lt;span style="color:#ae81ff">2&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> rehashidx;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">unsigned&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> iterators;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>} dict;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>redisDb&lt;/code> ä»£è¡¨Redisæ•°æ®åº“ç»“æž„ï¼Œå„ç§æ“ä½œå¯¹è±¡ï¼Œéƒ½å­˜å‚¨åœ¨dictæ•°æ®ç»“æž„é‡Œ.&lt;/p>
&lt;ul>
&lt;li>&lt;code>dict&lt;/code> æ˜¯Redisçš„å­—å…¸ç»“æž„ï¼Œå­˜å‚¨é”®å€¼å¯¹.&lt;/li>
&lt;li>&lt;code>expires&lt;/code> æ˜¯Redisçš„è¿‡æœŸé”®å­—å…¸ç»“æž„ï¼Œå­˜å‚¨è¿‡æœŸé”®.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://chhz0.github.io/redis/redis-redisDb-struct.drawio.svg" alt="redis-redisDb-struct">&lt;/p>
&lt;h3 id="æ“ä½œredisåœ¨å†…å­˜ä¸­çš„è¡¨çŽ°">æ“ä½œRedisåœ¨å†…å­˜ä¸­çš„è¡¨çŽ°&lt;/h3>
&lt;ul>
&lt;li>&lt;code>æ·»åŠ æ•°æ®&lt;/code> # å³æ·»åŠ é”®å€¼å¯¹ï¼Œæ·»åŠ åˆ°dictç»“æž„å­—å…¸ä¸­ï¼ŒKeyå¿…é¡»ä¸ºStringå¯¹è±¡ï¼Œvalueä¸ºä»»ä½•ç±»åž‹çš„å¯¹è±¡ï¼Œæ·»åŠ æ•°æ®åŽï¼Œä¼šåœ¨redisDbé‡Œå­—æ®µdictä¸Šæ·»åŠ dictå¯¹è±¡&lt;/li>
&lt;li>&lt;code>æŸ¥è¯¢æ•°æ®&lt;/code> # ç›´æŽ¥åœ¨dictæ‰¾åˆ°å¯¹åº”çš„keyï¼Œå³å®ŒæˆæŸ¥è¯¢&lt;/li>
&lt;li>&lt;code>æ›´æ–°æ•°æ®&lt;/code> # å¯¹å·²ç»Keyå¯¹è±¡çš„ä»»ä½•å˜æ›´æ“ä½œï¼Œéƒ½æ˜¯æ›´æ–°&lt;/li>
&lt;li>&lt;code>åˆ é™¤æ•°æ®&lt;/code> # åˆ é™¤å³æŠŠkeyå’Œvalueä»Ždictç»“æž„é‡Œåˆ é™¤&lt;/li>
&lt;/ul>
&lt;h3 id="å…³äºŽè¿‡æœŸé”®-expireskey">å…³äºŽè¿‡æœŸé”® expiresKey&lt;/h3>
&lt;p>Rediså¯ä»¥è®¾ç½®è¿‡æœŸé”®ï¼Œåˆ°è¾¾ä¸€å®šæ—¶é—´ï¼Œè¿™äº›å¯¹è±¡ä¼šè¢«è‡ªåŠ¨è¿‡æœŸå¹¶å›žæ”¶&lt;/p></description></item><item><title>Redis - Set</title><link>https://chhz0.github.io/notes/database/redis/datatypes/set/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/set/</guid><description>&lt;h2 id="redis-set-">Redis&amp;lt; Set &amp;gt;&lt;/h2>
&lt;p>Redis Setæ˜¯ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ä¸²çš„é›†åˆ&lt;/p>
&lt;p>é€‚ç”¨äºŽï¼š&lt;/p>
&lt;ol>
&lt;li>è·Ÿè¸ªå”¯ä¸€ç›®æ ‡(e.g., è·Ÿè¸ªè®¿é—®ç»™å®šåšå®¢çš„æ‰€æœ‰å”¯ä¸€IPåœ°å€)&lt;/li>
&lt;li>è¡¨ç¤ºå…³ç³»(e.g., å…·æœ‰ç»™å®šè§’è‰²çš„æ‰€æœ‰ç”¨æˆ·é›†åˆ)&lt;/li>
&lt;li>æ‰§è¡Œå¸¸è§çš„é›†åˆè¿ç®—(e.g., æ ¹æ®é›†åˆè¿ç®—èƒ½åŠ›èŽ·å–ä¸åŒç”¨æˆ·çš„å…±åŒä¿¡æ¯)&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Redis Setçš„æœ€å¤§å¤§å°ä¸º2^32-1(4294967295)&lt;/p>&lt;/blockquote>
&lt;h3 id="set-å‘½ä»¤">Set å‘½ä»¤&lt;/h3>
&lt;p>Setçš„åŸºæœ¬æ“ä½œæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºï¼š&lt;code>SADD&lt;/code>
&lt;ul>
&lt;li>&lt;code>SADD key member [member ...]&lt;/code> # æ·»åŠ å…ƒç´ ï¼Œè¿”å›žå€¼ä¸ºæˆåŠŸæ·»åŠ äº†å‡ ä¸ªå…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ï¼š&lt;code>SISMEMBR&lt;/code>, &lt;code>SCARD&lt;/code>, &lt;code>SMEMBERS&lt;/code>, &lt;code>SSCAN&lt;/code>, &lt;code>SINTER&lt;/code>, &lt;code>SUNION&lt;/code>, &lt;code>SDIFF&lt;/code>
&lt;ul>
&lt;li>&lt;code>SISMEMBER key member&lt;/code> # æŸ¥è¯¢å…ƒç´ æ˜¯å¦å­˜åœ¨&lt;/li>
&lt;li>&lt;code>SCARD key&lt;/code> # æŸ¥è¯¢é›†åˆå…ƒç´ ä¸ªæ•°&lt;/li>
&lt;li>&lt;code>SMEMBERS key&lt;/code> # æŸ¥çœ‹é›†åˆçš„æ‰€æœ‰å…ƒç´ &lt;/li>
&lt;li>&lt;code>SSCAN key cursor[MATCH pattern][COUNT count]&lt;/code> # æŸ¥çœ‹é›†åˆå…ƒç´ ï¼Œå¯ä»¥ç†è§£ä¸ºæŒ‡å®šæ¸¸æ ‡è¿›è¡ŒæŸ¥è¯¢ï¼Œå¯ä»¥æŒ‡å®šä¸ªæ•°ï¼Œé»˜è®¤ä¸º10&lt;/li>
&lt;li>&lt;code>SINTER key [key ...]&lt;/code> # è¿”å›žåœ¨ç¬¬ä¸€ä¸ªé›†åˆï¼ŒåŒæ—¶åœ¨åŽé¢æ‰€æœ‰é›†åˆéƒ½å­˜åœ¨å…ƒç´ &lt;/li>
&lt;li>&lt;code>SUNION key [key ...]&lt;/code> # è¿”å›žæ‰€æœ‰é›†åˆçš„å¹¶é›†ï¼Œé›†åˆä¸ªæ•°å¤§äºŽç­‰äºŽ2&lt;/li>
&lt;li>&lt;code>SDIFF key [key ...]&lt;/code> # è¿”å›žç¬¬ä¸€ä¸ªé›†åˆæœ‰ï¼Œä¸”åŽç»­é›†åˆä¸­ä¸å­˜åœ¨çš„å…ƒç´ ï¼Œç»“åˆä¸ªæ•°å¤§äºŽç­‰äºŽ2ï¼Œæ³¨æ„&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–°ï¼š&lt;code>SADD&lt;/code>, &lt;code>SREM&lt;/code>
&lt;ul>
&lt;li>&lt;code>SADD&lt;/code> &amp;ndash; &amp;gt; å‚è€ƒä¸Šæ–‡&lt;/li>
&lt;li>&lt;code>SREM key member [member ...]&lt;/code> # åˆ é™¤å…ƒç´ ï¼Œè¿”å›žå€¼ä¸ºæˆåŠŸåˆ é™¤å‡ ä¸ªå…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ï¼š&lt;code>DEL&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key&lt;/code> åˆ é™¤å…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>::: tip è¯¦ç»†Setå‘½ä»¤
ðŸ”— &lt;a href="https://redis.io/docs/latest/commands/?group=set">Setå‘½ä»¤åˆ—è¡¨&lt;/a>
:::&lt;/p></description></item><item><title>Redis - Single Thread</title><link>https://chhz0.github.io/notes/database/redis/arch/single-thread/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/arch/single-thread/</guid><description>&lt;blockquote>
&lt;p>Redisçš„å•çº¿ç¨‹æ¨¡åž‹&lt;/p>&lt;/blockquote>
&lt;h2 id="redis-å•çº¿ç¨‹æ¨¡åž‹">Redis å•çº¿ç¨‹æ¨¡åž‹&lt;/h2>
&lt;p>redisæ˜¯ä¸€ä¸ªèƒ½é«˜æ•ˆå¤„ç†è¯·æ±‚çš„ç»„ä»¶&lt;/p>
&lt;p>æ ¸å¿ƒå¤„ç†é€»è¾‘ï¼šRedisä¸€ç›´éƒ½æ˜¯å•çº¿ç¨‹ï¼Œå…¶ä»–è¾…åŠ©æ¨¡å—ä¼šæœ‰ä¸€äº›å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå¤åˆ¶æ¨¡å—ç”¨çš„å¤šè¿›ç¨‹ï¼›æŸäº›å¼‚æ­¥æµç¨‹ä»Ž4.0å¼€å§‹ç”¨å¤šçº¿ç¨‹ï¼›ç½‘ç»œI/Oè§£åŒ…ä»Ž6.0å¼€å§‹ç”¨å¤šçº¿ç¨‹ï¼›&lt;/p>
&lt;blockquote>
&lt;p>Redisåœ¨å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶ï¼ŒåŒ…æ‹¬èŽ·å–ï¼ˆsocketå†™ï¼‰ã€è§£æžã€æ‰§è¡Œã€å†…å®¹è¿”å›žç­‰éƒ½æ˜¯ç”±ä¸€ä¸ªé¡ºåºä¸²è¡Œçš„ä¸»çº¿ç¨‹å¤„ç†ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å•çº¿ç¨‹&lt;/p>&lt;/blockquote>
&lt;h3 id="redis-å•çº¿ç¨‹çš„é€‰æ‹©">Redis å•çº¿ç¨‹çš„é€‰æ‹©&lt;/h3>
&lt;p>Redisçš„å®šä½æ˜¯å†…å­˜k-vå­˜å‚¨ï¼Œæ˜¯åšçŸ­å¹³å¿«çš„çƒ­ç‚¹æ•°æ®å¤„ç†ï¼Œä¸€èˆ¬æ¥è¯´æ‰§è¡Œä¼šå¾ˆå¿«ï¼Œæ‰§è¡Œæœ¬èº«ä¸ä¼šæˆä¸ºç“¶é¢ˆï¼Œç“¶é¢ˆé€šå¸¸åœ¨ç½‘ç»œI/Oï¼Œå¤„ç†é€»è¾‘å¤šçº¿ç¨‹å¹¶ä¸ä¼šæœ‰å¤ªå¤§æ”¶ç›Š&lt;/p>
&lt;p>åŒæ—¶Redisæœ¬èº«ç§‰æŒç®€æ´é«˜æ•ˆçš„ç†å¿µï¼Œä»£ç çš„ç®€å•æ€§ã€å¯ç»´æŠ¤æ€§æ˜¯redisä¸€ç›´ä¾èµ–çš„è¿½æ±‚ï¼Œæ‰§è¡Œæœ¬èº«ä¸åº”è¯¥æˆä¸ºç“¶é¢ˆï¼Œè€Œä¸”å¤šçº¿ç¨‹æœ¬èº«ä¹Ÿä¼šå¼•èµ·é¢å¤–æˆæœ¬&lt;/p>
&lt;h4 id="å¼•å…¥å¤šçº¿ç¨‹å¸¦æ¥å¤æ‚åº¦å’Œé¢å¤–æˆæœ¬">å¼•å…¥å¤šçº¿ç¨‹å¸¦æ¥å¤æ‚åº¦å’Œé¢å¤–æˆæœ¬&lt;/h4>
&lt;ol>
&lt;li>
&lt;p>å¤šçº¿ç¨‹å¼•å…¥çš„å¤æ‚åº¦æ˜¯æžå¤§çš„&lt;/p>
&lt;ul>
&lt;li>å¤šçº¿ç¨‹å¼•å…¥åŽï¼ŒredisåŽŸæ¥çš„é¡ºåºæ‰§è¡Œç‰¹æ€§å°±ä¸å¤å­˜åœ¨ï¼Œä¸ºäº†äº‹åŠ¡çš„åŽŸå­æ€§ã€éš”ç¦»æ€§ï¼Œrediså°±ä¸å¾—ä¸å¼•å…¥ä¸€äº›å¾ˆå¤æ‚çš„å®žçŽ°&lt;/li>
&lt;li>redisçš„æ•°æ®ç»“æž„æ˜¯æžå…¶é«˜æ•ˆï¼Œåœ¨å•çº¿ç¨‹æ¨¡å¼ä¸‹åšäº†å¾ˆå¤šç‰¹æ€§çš„ä¼˜åŒ–ï¼Œå¦‚æžœå¼•å…¥å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆæ‰€æœ‰åº•å±‚æ•°æ®éƒ½è¦æ”¹ä¸ºçº¿æ€§å®‰å…¨ï¼Œè¿™å¾ˆå¤æ‚&lt;/li>
&lt;li>å¤šçº¿ç¨‹æ¨¡å¼ä½¿å¾—ç¨‹åºè°ƒè¯•æ›´åŠ å¤æ‚å’Œéº»çƒ¦ï¼Œä¼šå¸¦æ¥é¢å¤–çš„å¼€å‘æˆæœ¬åŠè¿è¥æˆæœ¬&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>å¤šçº¿ç¨‹å¸¦æ¥é¢å¤–çš„æˆæœ¬&lt;/p>
&lt;ul>
&lt;li>ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ï¼Œå¤šçº¿ç¨‹è°ƒåº¦éœ€è¦åˆ‡æ¢çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªæ“ä½œå…ˆå­˜å‚¨å½“å‰çº¿ç¨‹çš„æœ¬åœ°æ•°æ®ï¼Œç¨‹åºæŒ‡é’ˆï¼Œç„¶åŽè½½å…¥å¦ä¸€ä¸ªçº¿ç¨‹æ•°æ®ï¼Œè¿™ç§å†…æ ¸æ“ä½œçš„æˆæœ¬ä¸å¯å¿½ç•¥&lt;/li>
&lt;li>åŒæ­¥æœºåˆ¶çš„å¼€é”€ï¼Œä¸€äº›å…¬å…±èµ„æºï¼Œåœ¨å•çº¿ç¨‹æ¨¡å¼ä¸‹ç›´æŽ¥è®¿é—®å°±è¡Œï¼Œå¤šçº¿ç¨‹éœ€è¦é€šè¿‡åŠ é”ç­‰æ–¹å¼è¿›è¡ŒåŒæ­¥&lt;/li>
&lt;li>ä¸€ä¸ªçº¿ç¨‹æœ¬èº«ä¹Ÿå æ®å†…å­˜å¤§å°ï¼Œå¯¹redisè¿™ç§å†…å­˜æ•°æ®åº“æ¥è¯´ï¼Œå†…å­˜éžå¸¸çè´µï¼Œå¤šçº¿ç¨‹æœ¬èº«å¸¦æ¥çš„å†…å­˜ä½¿ç”¨çš„æˆæœ¬ä¹Ÿéœ€è¦è°¨æ…Žå†³ç­–&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="redis-å•çº¿ç¨‹çš„é«˜æ€§èƒ½">Redis å•çº¿ç¨‹çš„é«˜æ€§èƒ½&lt;/h3>
&lt;p>Redis æ ¸å¿ƒçš„è¯·æ±‚å¤„ç†æ˜¯&lt;code>å•çº¿ç¨‹&lt;/code>ï¼Œä½†æ˜¯Rediså´èƒ½ä½¿ç”¨å•çº¿ç¨‹æ¨¡åž‹è¾¾åˆ°æ¯ç§’æ•°ä¸‡çº§åˆ«çš„å¤„ç†èƒ½åŠ›ï¼Œè¿™æ˜¯Rediså¤šæ–¹é¢æžè‡´è®¾è®¡çš„ä¸€ä¸ªç»¼åˆç»“æžœ.&lt;/p>
&lt;ol>
&lt;li>Redisçš„å¤§éƒ¨åˆ†æ“ä½œåœ¨å†…å­˜ä¸Šå®Œæˆï¼Œå†…å­˜æ“ä½œæœ¬èº«å°±ç‰¹åˆ«å¿«&lt;/li>
&lt;li>Redisé€‰æ‹©äº†å¾ˆå¤šé«˜æ•ˆçš„æ•°æ®ç»“æž„ï¼Œå¹¶åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œæ¯”å¦‚&lt;code>ziplist&lt;/code>ï¼Œ&lt;code>hash&lt;/code>ï¼Œ&lt;code>skiplist&lt;/code>ç­‰ï¼Œæœ‰æ—¶å€™ä¸€ç§å¯¹è±¡åº•å±‚æœ‰å‡ ç§å®žçŽ°ä»¥åº”å¯¹ä¸åŒåœºæ™¯&lt;/li>
&lt;li>Redisé‡‡ç”¨äº†å¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œä½¿å…¶åœ¨ç½‘ç»œIOæ“ä½œä¸­èƒ½å¹¶å‘å¤„ç†å¤§é‡çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå®žçŽ°é«˜åžå¹¶é‡&lt;/li>
&lt;/ol>
&lt;h4 id="redis-ioå¤šè·¯å¤ç”¨">Redis I/Oå¤šè·¯å¤ç”¨&lt;/h4>
&lt;p>Redisåœ¨å†…å­˜ä¸­å¤„ç†æ•°æ®ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆæ›´å¤šæ˜¯åœ¨I/O&lt;/p>
&lt;p>Redisçš„I/Oå¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œæ˜¯æŒ‡Redisåœ¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œé€šè¿‡ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„I/Oå¤šè·¯å¤ç”¨åŠŸèƒ½ï¼Œå®žçŽ°åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè€Œä¸æ˜¯é˜»å¡žç­‰å¾…æ¯ä¸ªè¯·æ±‚çš„å¤„ç†å®Œæˆ&lt;/p>
&lt;p>Redisåšäº†ä¸€å±‚åŒ…è£…ï¼Œå«&lt;code>Reactoræ¨¡åž‹&lt;/code>ï¼Œæœ¬è´¨å°±æ˜¯ç›‘å¬å„ç§äº‹ä»¶ï¼Œå½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°†äº‹ä»¶åˆ†å‘ç»™ä¸åŒçš„å¤„ç†å™¨&lt;/p>
&lt;p>&lt;img src="https://chhz0.github.io/redis/redis-reactor.drawio.svg" alt="redis-reactor">&lt;/p>
&lt;p>I/Oå¤šè·¯å¤ç”¨è®©rediså•çº¿ç¨‹æœ‰äº†è¾ƒå¤§çš„å¹¶å‘åº¦ï¼Œè¿™é‡Œæ˜¯å¹¶å‘ï¼Œä¸æ˜¯å¹¶è¡Œï¼Œè¿™ç§æ¨¡å¼ä¸‹ï¼ŒRediså•æ ¸çš„æ€§èƒ½å¯ä»¥æ˜¯è¢«å……åˆ†åˆ©ç”¨&lt;/p></description></item><item><title>Redis - Stream</title><link>https://chhz0.github.io/notes/database/redis/datatypes/stream/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/stream/</guid><description>&lt;h2 id="redis-stream-">Redis&amp;lt; Stream &amp;gt;&lt;/h2>
&lt;p>Redis Streamæ˜¯ä¸€ç§æ•°æ®ç»“æž„ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºŽä»…è¿½åŠ æ—¥å¿—ï¼Œä½†ä¹Ÿå®žçŽ°äº†å¤šç§æ“ä½œå…‹æœå…¸åž‹çš„ä»…è¿½åŠ æ—¥å¿—çš„é™åˆ¶. åŒ…æ‹¬O(1)æ—¶é—´å†…çš„éšæœºè®¿é—®å’Œå¤æ‚çš„æ¶ˆè´¹ç­–ç•¥&lt;/p>
&lt;p>Streamçš„ä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/p>
&lt;pre>&lt;code>1. äº‹ä»¶æº¯æº(è¿½è¸ªç”¨æˆ·æ“ä½œã€ç‚¹å‡»)ï¼›
2. ä¼ æ„Ÿå™¨å¥åº·;
3. é€šçŸ¥(å°†æ¯ä¸ªç”¨æˆ·çš„é€šçŸ¥å­˜å‚¨åœ¨å•ç‹¬çš„æµä¸­)
&lt;/code>&lt;/pre>
&lt;p>Redisä¸ºæ¯ä¸ªæµæ¡ç›®ç”Ÿæˆä¸€ä¸ªå”¯ä¸€IDï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›IDæ£€ç´¢å…¶å…³è”æ¡ç›®æˆ–è¯»å–å¹¶å¤„ç†æµä¸­çš„æ‰€æœ‰åŽç»­æ¡ç›®&lt;/p>
&lt;p>Redisæ”¯æŒå¤šç§ä¿®å‰ªç­–ç•¥å’Œå¤šç§æ¶ˆè´¹ç­–ç•¥&lt;/p>
&lt;h3 id="stream-å‘½ä»¤">Stream å‘½ä»¤&lt;/h3>
&lt;ul>
&lt;li>&lt;code>XADD&lt;/code> # å°†æ–°æ¡ç›®æ·»åŠ åˆ°æµä¸­&lt;/li>
&lt;li>&lt;code>XREAD&lt;/code> # è¯»å–ä¸€ä¸ªæˆ–å¤šä¸ªæ¡ç›®ï¼Œä»Žç»™å®šä½ç½®å¼€å§‹å¹¶åŠæ—¶å‘å‰ç§»åŠ¨&lt;/li>
&lt;li>&lt;code>XRANGE&lt;/code> # è¿”å›žä¸¤ä¸ªæä¾›çš„æ¡ç›®IDä¹‹é—´çš„æ¡ç›®èŒƒå›´&lt;/li>
&lt;li>&lt;code>XLEN&lt;/code> # è¿”å›žæµçš„é•¿åº¦&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Redis Stream è¯¦ç»†è¯·é˜…è¯»
&lt;a href="https://redis.io/docs/latest/develop/data-types/streams/">Redis Stream&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Redis - String</title><link>https://chhz0.github.io/notes/database/redis/datatypes/string/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/string/</guid><description>&lt;h2 id="redis-string-">Redis&amp;lt; String &amp;gt;&lt;/h2>
&lt;p>Redis String ç±»åž‹ï¼Œå­˜å‚¨å­—èŠ‚ï¼ŒåŒ…æ‹¬æ–‡æœ¬ï¼Œåºåˆ—åŒ–å¯¹è±¡å’ŒäºŒè¿›åˆ¶æ•°ç»„ï¼Œå› æ­¤ &lt;em>&lt;strong>Stringæ˜¯Redisæœ€åŸºæœ¬çš„æ•°æ®ç»“æž„&lt;/strong>&lt;/em>. é€šå¸¸ç”¨äºŽ&lt;strong>ç¼“å­˜&lt;/strong>ï¼Œè€Œä¸”Redisæ”¯æŒå…¶ä»–åŠŸèƒ½ï¼Œå…è®¸å®žçŽ°&lt;strong>è®¡æ•°å™¨&lt;/strong>å¹¶æ‰§è¡ŒæŒ‰ä½è¿ç®—.&lt;/p>
&lt;p>ç”±äºŽRedisä¸­keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› æ­¤Redisä½¿ç”¨Stringæ•°æ®ç»“æž„ä½œä¸ºkeyçš„å€¼.&lt;/p>
&lt;p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒStirngæœ€å¤§ä¸º512MBï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹&lt;code>proto-max-bulk-len&lt;/code>è¿›è¡Œä¿®æ”¹.&lt;/p>
&lt;h3 id="string-é€‚ç”¨åœºæ™¯">String é€‚ç”¨åœºæ™¯&lt;/h3>
&lt;p>ä½¿ç”¨åœºæ™¯ï¼šä¸€èˆ¬ç”¨æ¥å­˜æ”¾å­—èŠ‚æ•°æ®ã€æ–‡æœ¬æ•°æ®ã€åºåˆ—åŒ–åŽçš„å¯¹è±¡æ•°æ®.&lt;/p>
&lt;ol>
&lt;li>ç¼“å­˜åœºæ™¯ï¼šValueå­˜Jsonå­—ç¬¦ä¸²ç­‰ä¿¡æ¯.&lt;/li>
&lt;li>è®¡æ•°åœºæ™¯ï¼šå› ä¸ºRediså¤„ç†å‘½ä»¤æ˜¯å•çº¿ç¨‹ï¼Œæ‰€ä»¥æ‰§è¡Œå‘½ä»¤çš„è¿‡ç¨‹æ˜¯åŽŸå­çš„ï¼Œå› æ­¤Stringæ•°æ®ç»“æž„é€‚åˆè®¡æ•°åœºæ™¯.&lt;/li>
&lt;/ol>
&lt;h3 id="string-å‘½ä»¤">String å‘½ä»¤&lt;/h3>
&lt;p>å¸¸ç”¨å‘½ä»¤:&lt;/p>
&lt;ul>
&lt;li>åˆ›å»º &amp;ndash;&amp;gt; &lt;code>set&lt;/code>, &lt;code>setnx&lt;/code>, &lt;code>getset&lt;/code>
&lt;ul>
&lt;li>&lt;code>SET key value&lt;/code> # è®¾ç½®ä¸€ä¸ªkeyå€¼ä¸ºç‰¹å®šçš„value&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>setå‘½ä»¤æ‰©å±•å‚æ•°ï¼š
EXï¼ˆé”®è¿‡æœŸæ—¶é—´ç§’ï¼‰ã€PXï¼ˆé”®è¿‡æœŸæ—¶é—´æ¯«ç§’ï¼‰ã€NXï¼ˆåªæœ‰é”®ä¸å­˜åœ¨æ—¶æ‰å¯¹é”®è¿›è¡Œæ“ä½œï¼ŒåŸºæœ¬æ›¿ä»£ä¸‹é¢çš„SETNXæ“ä½œï¼‰ã€XXï¼ˆé”®å­˜åœ¨æ—¶æ‰å¯¹é”®è¿›è¡Œæ“ä½œï¼‰&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>SETNX key value&lt;/code> # ç”¨äºŽåœ¨æŒ‡å®šçš„keyä¸å­˜åœ¨æ—¶ï¼Œä¸ºkeyè®¾ç½®æŒ‡å®šçš„å€¼ï¼Œå¯¹äºŽå®žçŽ°é”å¾ˆæœ‰ç”¨&lt;/li>
&lt;li>&lt;code>GETSET key value&lt;/code> # è®¾ç½®ä¸€ä¸ªkeyçš„å€¼ï¼Œå¹¶è¿”å›žåŽŸæ¥çš„å€¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ &amp;ndash;&amp;gt; &lt;code>get&lt;/code>, &lt;code>mget&lt;/code>
&lt;ul>
&lt;li>&lt;code>Get key&lt;/code> # æŸ¥è¯¢æŸä¸ªkeyï¼Œå­˜åœ¨å°±è¿”å›žå¯¹åº”çš„valueï¼Œä¸å­˜åœ¨è¿”å›žnil&lt;/li>
&lt;li>&lt;code>Mget key [key ...]&lt;/code> # ä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªkeyï¼Œå¦‚æžœæŸä¸ªkeyä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¿”å›žnil&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–° &amp;ndash;&amp;gt; &lt;code>set&lt;/code>
&lt;ul>
&lt;li>è§ä¸Šé¢çš„setå‘½ä»¤&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ &amp;ndash;&amp;gt; &lt;code>del&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key [key ...]&lt;/code> # åˆ é™¤å¯¹è±¡ï¼Œè¿”å›žå€¼ä¸ºåˆ é™¤æˆåŠŸäº†å‡ è¡Œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>å…¶ä»–å‘½ä»¤ï¼š&lt;code>incr&lt;/code>, &lt;code>incrby&lt;/code>, &lt;code>incrbyfloat&lt;/code>&lt;/p></description></item><item><title>Redis - ZSet</title><link>https://chhz0.github.io/notes/database/redis/datatypes/zset/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/zset/</guid><description>&lt;h2 id="redis-zset-">Redis&amp;lt; ZSet &amp;gt;&lt;/h2>
&lt;p>Redis ZSet æ˜¯ä¸€ä¸ªå…³è”åˆ†æ•°æŽ’åºçš„å”¯ä¸€å­—ç¬¦ä¸²é›†åˆ. å½“å¤šä¸ªå­—ç¬¦ä¸²å…·æœ‰ç›¸åŒåˆ†æ•°æ—¶ï¼Œå­—ç¬¦ä¸²ä¼šæŒ‰ç…§å­—å…¸é¡ºåºæŽ’åˆ—ã€‚&lt;/p>
&lt;p>&lt;code>ZSet&lt;/code>å¯ä»¥é€‚ç”¨äºŽ:&lt;/p>
&lt;ul>
&lt;li>æŽ’è¡Œæ¦œ. ä½¿ç”¨ZSetç»´æŠ¤å¤§åž‹æ¸¸æˆä¸­æœ€é«˜åˆ†æ•°çš„æœ‰åºåˆ—è¡¨.&lt;/li>
&lt;li>é€ŸçŽ‡é™åˆ¶å™¨. ä½¿ç”¨ZSetæž„å»ºæ»‘åŠ¨çª—å£é€ŸçŽ‡é™åˆ¶å™¨ï¼Œä»¥é˜²æ­¢è¿‡å¤šçš„APIè¯·æ±‚.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ZSet&lt;/code>å¯ä»¥è§†ä¸ºæ˜¯é›†åˆå’Œå“ˆå¸Œçš„æ··åˆï¼Œä¸€æ–¹é¢ï¼Œå…¶ä¸Žé›†åˆç±»ä¼¼ï¼Œç”±å”¯ä¸€çš„ã€ä¸é‡å¤çš„å­—ç¬¦ä¸²å…ƒç´ ç»„æˆï¼›å¦ä¸€æ–¹é¢ï¼Œé›†åˆå†…å…ƒç´ æ²¡æœ‰æŽ’åºï¼Œä½†æ˜¯æŽ’åºé›†åˆä¸­æ¯ä¸ªå…ƒç´ éƒ½å’Œä¸€ä¸ªæµ®ç‚¹å€¼ç›¸å…³è”ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼äºŽå“ˆå¸Œï¼Œæ¯ä¸ªå…ƒç´ æ˜ å°„ä¸€ä¸ªå€¼&lt;/p>
&lt;p>æ­¤å¤–ï¼ŒæŽ’åºé›†ä¸­çš„å…ƒç´ æ˜¯æŒ‰é¡ºåºèŽ·å–çš„ï¼Œè¿™ä¸ªé¡ºåºéµå®ˆä»¥ä¸‹è§„åˆ™ï¼š&lt;/p>
&lt;ol>
&lt;li>å¦‚æžœ B å’Œ A æ˜¯å…·æœ‰ä¸åŒåˆ†æ•°çš„ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ™å¦‚æžœ A.score æ˜¯ &amp;gt; B.scoreï¼Œåˆ™ A &amp;gt; B.&lt;/li>
&lt;li>å¦‚æžœ B å’Œ A çš„åˆ†æ•°å®Œå…¨ç›¸åŒï¼Œåˆ™å¦‚æžœ A å­—ç¬¦ä¸²æŒ‰å­—å…¸é¡ºåºå¤§äºŽ B å­—ç¬¦ä¸²ï¼Œåˆ™ A &amp;gt; Bã€‚ B å’Œ A å­—ç¬¦ä¸²ä¸èƒ½ç›¸ç­‰ï¼Œå› ä¸ºæŽ’åºé›†ä»…å…·æœ‰å”¯ä¸€å…ƒç´ &lt;/li>
&lt;/ol>
&lt;h3 id="zset-å‘½ä»¤">ZSet å‘½ä»¤&lt;/h3>
&lt;p>ZSetå¸¸è§å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºï¼š&lt;code>ZADD&lt;/code>
&lt;ul>
&lt;li>&lt;code>ZADD key score member [score member]&lt;/code> # å‘Sorted Setå¢žåŠ æ•°æ®ï¼Œå¦‚æžœkeyå·²ç»å­˜åœ¨çš„Keyï¼Œåˆ™æ›´æ–°å¯¹åº”çš„æ•°æ®
&lt;ul>
&lt;li>æ‰©å±•å‚æ•°ï¼šXX, NX, LT, GT&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ï¼š&lt;code>ZRANGE&lt;/code>, &lt;code>ZCOUNT&lt;/code>, &lt;code>ZRANK&lt;/code>, &lt;code>ZCARD&lt;/code>, &lt;code>ZSCORE&lt;/code>
&lt;ul>
&lt;li>&lt;code>ZCARD key&lt;/code> # æŸ¥çœ‹ZSetä¸­çš„æˆå‘˜&lt;/li>
&lt;li>&lt;code>ZRANGE key start stop [WITHSCORES]&lt;/code> # æŸ¥è¯¢ä»Žstartåˆ°stopèŒƒå›´çš„ZSetæ•°æ®ï¼ŒWITHSCORESé€‰å¡«ï¼Œä¸å†™è¾“å‡ºé‡Œåªæœ‰keyï¼Œæ²¡æœ‰scoreå€¼&lt;/li>
&lt;li>&lt;code>ZREVRANGE key start stop [WITHSCORES]&lt;/code> # å³reverse rangeï¼Œä»Žå¤§åˆ°å°éåŽ†ï¼ŒWITHSCORESé€‰é¡¹ï¼Œä¸å†™ä¸ä¼šè¾“å‡ºscore&lt;/li>
&lt;li>&lt;code>ZCOUNT key min max&lt;/code> # è®¡ç®—min-maxç§¯åˆ†èŒƒå›´çš„æˆå‘˜&lt;/li>
&lt;li>&lt;code>ZRANK key member&lt;/code> # æŸ¥çœ‹ZSetä¸­memberçš„æŽ’åç´¢å¼•ï¼Œç´¢å¼•ä»Ž0å¼€å§‹ï¼Œæ‰€ä»¥æŽ’åæ˜¯ç¬¬ä¸€ï¼Œç´¢å¼•å°±æ˜¯0&lt;/li>
&lt;li>&lt;code>ZSCORE key member&lt;/code> # æŸ¥è¯¢ZSetæˆå‘˜çš„åˆ†æ•°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–°ï¼š&lt;code>ZADD&lt;/code>, &lt;code>ZREM&lt;/code>
&lt;ul>
&lt;li>&lt;code>ZREM key member [member ...]&lt;/code> # åˆ é™¤ZSetä¸­çš„å…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ï¼š&lt;code>DEL&lt;/code>, &lt;code>UNLINK&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>::: tip è¯¦ç»†ZSetå‘½ä»¤
ðŸ”— &lt;a href="https://redis.io/docs/latest/commands/?group=sorted-set">ZSetså‘½ä»¤åˆ—è¡¨&lt;/a>
:::&lt;/p></description></item><item><title>Redis - è¿‡æœŸæ·˜æ±°ç®—æ³•</title><link>https://chhz0.github.io/notes/database/redis/arch/lru-lfu/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/arch/lru-lfu/</guid><description>&lt;blockquote>
&lt;p>Redis ä¸­ä½¿ç”¨çš„è¿‡æœŸæ·˜æ±°ç®—æ³• LRU &amp;amp;&amp;amp; LFU&lt;/p>&lt;/blockquote>
&lt;h2 id="redis-è¿‡æœŸæ·˜æ±°ç®—æ³•">Redis è¿‡æœŸæ·˜æ±°ç®—æ³•&lt;/h2></description></item><item><title>Redis-core</title><link>https://chhz0.github.io/notes/database/redis/redis-core/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/redis-core/</guid><description>&lt;blockquote>
&lt;p>ä¸€æ–‡è¯¦è§£ &lt;em>Redis&lt;/em> æ ¸å¿ƒå†…å®¹&lt;/p>&lt;/blockquote>
&lt;h2 id="1-redis-ç®€ä»‹">1. Redis ç®€ä»‹&lt;/h2>
&lt;h3 id="11-redis-å®‰è£…">1.1 Redis å®‰è£…&lt;/h3>
&lt;h3 id="12-redis-å‘½ä»¤">1.2 Redis å‘½ä»¤&lt;/h3>
&lt;h3 id="13-redis-é«˜çº§">1.3 Redis é«˜çº§&lt;/h3>
&lt;h2 id="2-redis-æ•°æ®ç»“æž„">2. Redis æ•°æ®ç»“æž„&lt;/h2>
&lt;h3 id="21-redis-object">2.1 Redis Object&lt;/h3>
&lt;h3 id="22-redis--string-">2.2 Redis &amp;lt; String &amp;gt;&lt;/h3>
&lt;h3 id="23-redis--list-">2.3 Redis &amp;lt; List &amp;gt;&lt;/h3>
&lt;h3 id="24-redis--set-">2.4 Redis &amp;lt; Set &amp;gt;&lt;/h3>
&lt;h3 id="25-redis--hash-">2.5 Redis &amp;lt; Hash &amp;gt;&lt;/h3>
&lt;h3 id="26-redis--zset-">2.6 Redis &amp;lt; ZSet &amp;gt;&lt;/h3>
&lt;h3 id="27-redis--stream-">2.7 Redis &amp;lt; Stream &amp;gt;&lt;/h3>
&lt;h3 id="28-redis---geospatial-hyperloglog--bitmap">2.8 Redis - Geospatial| Hyperloglog | Bitmap&lt;/h3>
&lt;h2 id="3-redis-æž¶æž„è®¾è®¡">3. Redis æž¶æž„è®¾è®¡&lt;/h2>
&lt;h3 id="31-redis-å•çº¿ç¨‹--å¤šçº¿ç¨‹">3.1 Redis å•çº¿ç¨‹ | å¤šçº¿ç¨‹&lt;/h3>
&lt;h3 id="32-redis-è¿‡æœŸç­–ç•¥ç®—æ³•">3.2 Redis è¿‡æœŸç­–ç•¥ç®—æ³•&lt;/h3>
&lt;h2 id="4-redis-æŒä¹…åŒ–ç­–ç•¥">4. Redis æŒä¹…åŒ–ç­–ç•¥&lt;/h2>
&lt;h3 id="41-redis-aof">4.1 Redis AOF&lt;/h3>
&lt;h3 id="42-redis-rdb">4.2 Redis RDB&lt;/h3>
&lt;h3 id="43-redis-æ··åˆæŒä¹…åŒ–">4.3 Redis æ··åˆæŒä¹…åŒ–&lt;/h3>
&lt;h2 id="5-redis-ç¼“å­˜åº”ç”¨">5. Redis ç¼“å­˜åº”ç”¨&lt;/h2>
&lt;h3 id="51-redis-ç¼“å­˜">5.1 Redis ç¼“å­˜&lt;/h3>
&lt;h3 id="52-redis-ç¼“å­˜ä¸€è‡´æ€§">5.2 Redis ç¼“å­˜ä¸€è‡´æ€§&lt;/h3>
&lt;h2 id="6-redis-é«˜å¯ç”¨">6. Redis é«˜å¯ç”¨&lt;/h2>
&lt;h3 id="61-redis-ä¸»ä»Žå¤åˆ¶">6.1 Redis ä¸»ä»Žå¤åˆ¶&lt;/h3>
&lt;h3 id="62-redis-å“¨å…µ">6.2 Redis å“¨å…µ&lt;/h3>
&lt;h3 id="63-redis-é›†ç¾¤">6.3 Redis é›†ç¾¤&lt;/h3>
&lt;h2 id="redisç›¸å…³èµ„æ–™">&lt;em>Redisç›¸å…³èµ„æ–™&lt;/em>&lt;/h2>
&lt;blockquote>
&lt;ul>
&lt;li>&lt;a href="https://redis.io/docs/latest/">redis/Docs&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://xiaolincoding.com/redis/">å°æž—coding/redis&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.redis.net.cn/">redisä¸­æ–‡ç½‘&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.runoob.com/redis/redis-tutorial.html">èœé¸Ÿæ•™ç¨‹/redis&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://zhuanlan.zhihu.com/p/663851226">zhihu/ã€è¶…çº§è¯¦ç»†ã€‘ä¸€æ–‡æžæ‡‚redisçš„æ‰€æœ‰çŸ¥è¯†ç‚¹&lt;/a>&lt;/li>
&lt;/ul>&lt;/blockquote></description></item></channel></rss>