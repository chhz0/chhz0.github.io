<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Redis - Datatypes on ch.hugo</title><link>https://chhz0.github.io/notes/database/redis/datatypes/</link><description>Recent content in Redis - Datatypes on ch.hugo</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Tue, 10 Jun 2025 22:36:08 +0800</lastBuildDate><atom:link href="https://chhz0.github.io/notes/database/redis/datatypes/rss.xml" rel="self" type="application/rss+xml"/><item><title>Redis - Hash</title><link>https://chhz0.github.io/notes/database/redis/datatypes/hash/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/hash/</guid><description>&lt;h2 id="redis--hash-">Redis &amp;lt; Hash &amp;gt;&lt;/h2>
&lt;p>Redis Hash æ˜¯ç»“æž„åŒ–ä¸ºå­—æ®µå€¼(field)-&amp;gt;å€¼(value)é›†åˆçš„è®°å½•ç±»åž‹. å¯ä»¥ä½¿ç”¨&lt;code>Hash&lt;/code>æ¥è¡¨ç¤ºåŸºç¡€å¯¹è±¡å¹¶å­˜å‚¨è®¡æ•°å™¨åˆ†ç»„.&lt;/p>
&lt;blockquote>
&lt;p>åˆ›å»ºçš„&lt;code>Hash&lt;/code>æ•°é‡æ²¡æœ‰å®žé™…é™åˆ¶ï¼Œé™¤äº†å—åˆ°å¯ç”¨å†…å­˜çš„é™åˆ¶ï¼Œ
ä½†æ˜¯æ¯ä¸ª&lt;code>Hash&lt;/code>æœ€å¤šå¯ä»¥å­˜å‚¨ 4,294,967,295 (2^32 - 1) ä¸ªå­—æ®µå€¼å¯¹&lt;/p>&lt;/blockquote>
&lt;p>&lt;code>Hash&lt;/code>å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¡¨ç¤ºå¯¹è±¡&lt;/p>
&lt;h3 id="hash-å‘½ä»¤">Hash å‘½ä»¤&lt;/h3>
&lt;p>Hashå¸¸ç”¨å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºï¼š&lt;code>HSET&lt;/code>, &lt;code>HSETNX&lt;/code>
&lt;ul>
&lt;li>&lt;code>HSET key field value&lt;/code> # ä¸ºé›†åˆå¯¹äºŽfieldè®¾ç½®valueï¼Œå¯ä»¥ä¸€æ¬¡è®¾ç½®å¤šä¸ªfield-value&lt;/li>
&lt;li>&lt;code>HSETNX key field value&lt;/code> # å¦‚æžœfieldä¸å­˜åœ¨ï¼Œåˆ™ä¸ºé›†åˆå¯¹åº”fieldè®¾ç½®valueæ•°æ®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ï¼š&lt;code>HGETALL&lt;/code>, &lt;code>HGET&lt;/code>, &lt;code>HLEN&lt;/code>, &lt;code>HSCAN&lt;/code>
&lt;ul>
&lt;li>&lt;code>HGETALL key&lt;/code> # æŸ¥æ‰¾å…¨éƒ¨æ•°æ®&lt;/li>
&lt;li>&lt;code>HGET key field&lt;/code> # æŸ¥æ‰¾æŸä¸ªkeyï¼ˆfieldï¼‰&lt;/li>
&lt;li>&lt;code>HLEN key&lt;/code> # æŸ¥æ‰¾Hashä¸­å…ƒç´ æ€»æ•°&lt;/li>
&lt;li>&lt;code>HSCAN key cursor [MATCH pattern] [COUNT count]&lt;/code> # ä»ŽæŒ‡å®šä½ç½®æŸ¥è¯¢ä¸€å®šæ•°é‡çš„æ•°æ®ï¼Œè¿™é‡Œæ³¨æ„å¦‚æžœæ˜¯å°æ•°æ®é‡ä¸‹ï¼Œå¤„äºŽZIPLISTæ—¶ï¼ŒCOUNTä¸ç®¡å¡«å¤šå°‘ï¼Œéƒ½æ˜¯è¿”å›žå…¨éƒ¨ï¼Œå› ä¸ºZIPLISTæœ¬èº«å°±ç”¨äºŽå°é›†åˆï¼Œæ²¡å¿…è¦åˆ‡åˆ†å‡ æ®µè¿”å›ž&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–°ï¼š&lt;code>HSET&lt;/code>, &lt;code>HSETNX&lt;/code>, &lt;code>HDEL&lt;/code>
&lt;ul>
&lt;li>&lt;code>HDEL key field [field ...]&lt;/code> # åˆ é™¤æŒ‡å®šfieldï¼Œå¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ª&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ï¼š&lt;code>DEL&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key [key ...]&lt;/code> # åˆ é™¤Hashå¯¹è±¡&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="hash-ç¼–ç åº•å±‚å®žçŽ°">Hash ç¼–ç (åº•å±‚å®žçŽ°)&lt;/h3>
&lt;p>Hashåº•å±‚æœ‰ä¸¤ä¸ªç¼–ç æ–¹å¼ï¼š&lt;code>ZIPLIST&lt;/code>, &lt;code>HASHTABLE&lt;/code>&lt;/p></description></item><item><title>Redis - List</title><link>https://chhz0.github.io/notes/database/redis/datatypes/list/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/list/</guid><description>&lt;h2 id="redis--list-">Redis &amp;lt; List &amp;gt;&lt;/h2>
&lt;p>Redis Listæ˜¯ä¸€ç»„è¿žç»­çš„å­—ç¬¦ä¸²å€¼&lt;strong>é“¾è¡¨&lt;/strong>ï¼Œè¿™æ„å‘³ç€å‘Listçš„å¤´éƒ¨æˆ–è€…å°¾éƒ¨ä¸­æ·»åŠ æ–°å…ƒç´ çš„æ“ä½œä¼šåœ¨æ’å®šçš„æ—¶é—´å†…å®Œæˆï¼Œ
æ— è®ºå…¶å·²ç»å­˜å‚¨äº†å¤šå°‘å…ƒç´ ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯è®¿é—®å…ƒç´ çš„æ“ä½œåˆ™éœ€è¦éåŽ†Listï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N)&lt;/p>
&lt;p>Redis Listç»å¸¸ç”¨äºŽ:&lt;/p>
&lt;ul>
&lt;li>å®žçŽ°å †æ ˆå’Œé˜Ÿåˆ—&lt;/li>
&lt;li>ä¸ºåŽå°ç³»ç»Ÿæž„å»ºé˜Ÿåˆ—ç®¡ç†&lt;/li>
&lt;/ul>
&lt;h3 id="list-å‘½ä»¤">List å‘½ä»¤&lt;/h3>
&lt;p>å¸¸ç”¨å‘½ä»¤:&lt;/p>
&lt;ul>
&lt;li>åˆ›å»º &amp;ndash;&amp;gt; &lt;code>LPUSH&lt;/code>, &lt;code>RPUSH&lt;/code>
&lt;ul>
&lt;li>&lt;code>LPUSH key value [value ...]&lt;/code> # ä»Žå¤´éƒ¨å¢žåŠ å…ƒç´ ï¼Œè¿”å›žListä¸­å…ƒç´ æ€»æ•°&lt;/li>
&lt;li>&lt;code>RPUSH key value [value ...]&lt;/code> # ä»Žå°¾éƒ¨å¢žåŠ å…ƒç´ ï¼Œè¿”å›žListä¸­å…ƒç´ æ€»æ•°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ &amp;ndash;&amp;gt; &lt;code>LLEN&lt;/code>, &lt;code>LRANGE&lt;/code>
&lt;ul>
&lt;li>&lt;code>LLEN&lt;/code> # æŸ¥çœ‹Listçš„é•¿åº¦ï¼Œå³Listä¸­å…ƒç´ çš„æ€»æ•°&lt;/li>
&lt;li>&lt;code>LRANGE key start stop&lt;/code> # æŸ¥çœ‹startåˆ°stopä¸ºè§’æ ‡çš„å…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–° &amp;ndash;&amp;gt; &lt;code>LPUSH&lt;/code>, &lt;code>RPUSH&lt;/code>, &lt;code>LPOP&lt;/code>, &lt;code>RPOP&lt;/code>, &lt;code>LREM&lt;/code>
&lt;ul>
&lt;li>&lt;code>LPOP key&lt;/code> # ç§»é™¤å¹¶èŽ·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ &lt;/li>
&lt;li>&lt;code>RPOP key&lt;/code> # ç§»é™¤å¹¶èŽ·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ &lt;/li>
&lt;li>&lt;code>LREM key count value&lt;/code> # ç§»é™¤å€¼ç­‰äºŽvalueçš„å…ƒç´ 
&lt;ul>
&lt;li>count = 0 ï¼Œåˆ™ç§»é™¤æ‰€æœ‰ç­‰äºŽvalueçš„å…ƒç´ ï¼›&lt;/li>
&lt;li>count &amp;gt; 0 ï¼Œåˆ™ä»Žå·¦åˆ°å³å¼€å§‹ç§»é™¤countä¸ªvalueå…ƒç´ ï¼›&lt;/li>
&lt;li>count &amp;lt; 0ï¼Œåˆ™ä»Žå³å¾€å·¦ç§»é™¤countä¸ªå…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ &amp;ndash;&amp;gt; &lt;code>DEL&lt;/code>, &lt;code>UNLINK&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key [key ...]&lt;/code> # åˆ é™¤å¯¹è±¡ï¼Œè¿”å›žå€¼ä¸ºåˆ é™¤æˆåŠŸäº†å‡ ä¸ªé”®&lt;/li>
&lt;li>&lt;code>UNLIKN key [key ...]&lt;/code> # åˆ é™¤å¯¹è±¡ï¼Œè¿”å›žå€¼ä¸ºåˆ é™¤æˆåŠŸäº†å‡ ä¸ªé”®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>delå‘½ä»¤ä¸Žunlinkå‘½ä»¤å‡ä¸ºåˆ é™¤å¯¹è±¡ï¼Œä¸åŒçš„æ˜¯delå‘½ä»¤æ˜¯åŒæ­¥åˆ é™¤ç›®å½•ï¼Œä¼šé˜»å¡žå®¢æˆ·ç«¯ï¼Œç›´åˆ°åˆ é™¤å®Œæˆï¼›
unlinkå‘½ä»¤æ˜¯å¼‚æ­¥åˆ é™¤å‘½ä»¤ï¼Œåªæ˜¯å–æ¶ˆkeyåœ¨é”®ç©ºé—´çš„å…³è”ï¼Œè®©å…¶ä¸åœ¨èƒ½æŸ¥åˆ°ï¼Œåˆ é™¤æ˜¯å¼‚æ­¥è¿›è¡Œï¼Œæ‰€ä»¥ä¸ä¼šé˜»å¡žå®¢æˆ·ç«¯.&lt;/p></description></item><item><title>Redis - Set</title><link>https://chhz0.github.io/notes/database/redis/datatypes/set/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/set/</guid><description>&lt;h2 id="redis-set-">Redis&amp;lt; Set &amp;gt;&lt;/h2>
&lt;p>Redis Setæ˜¯ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ä¸²çš„é›†åˆ&lt;/p>
&lt;p>é€‚ç”¨äºŽï¼š&lt;/p>
&lt;ol>
&lt;li>è·Ÿè¸ªå”¯ä¸€ç›®æ ‡(e.g., è·Ÿè¸ªè®¿é—®ç»™å®šåšå®¢çš„æ‰€æœ‰å”¯ä¸€IPåœ°å€)&lt;/li>
&lt;li>è¡¨ç¤ºå…³ç³»(e.g., å…·æœ‰ç»™å®šè§’è‰²çš„æ‰€æœ‰ç”¨æˆ·é›†åˆ)&lt;/li>
&lt;li>æ‰§è¡Œå¸¸è§çš„é›†åˆè¿ç®—(e.g., æ ¹æ®é›†åˆè¿ç®—èƒ½åŠ›èŽ·å–ä¸åŒç”¨æˆ·çš„å…±åŒä¿¡æ¯)&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Redis Setçš„æœ€å¤§å¤§å°ä¸º2^32-1(4294967295)&lt;/p>&lt;/blockquote>
&lt;h3 id="set-å‘½ä»¤">Set å‘½ä»¤&lt;/h3>
&lt;p>Setçš„åŸºæœ¬æ“ä½œæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºï¼š&lt;code>SADD&lt;/code>
&lt;ul>
&lt;li>&lt;code>SADD key member [member ...]&lt;/code> # æ·»åŠ å…ƒç´ ï¼Œè¿”å›žå€¼ä¸ºæˆåŠŸæ·»åŠ äº†å‡ ä¸ªå…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ï¼š&lt;code>SISMEMBR&lt;/code>, &lt;code>SCARD&lt;/code>, &lt;code>SMEMBERS&lt;/code>, &lt;code>SSCAN&lt;/code>, &lt;code>SINTER&lt;/code>, &lt;code>SUNION&lt;/code>, &lt;code>SDIFF&lt;/code>
&lt;ul>
&lt;li>&lt;code>SISMEMBER key member&lt;/code> # æŸ¥è¯¢å…ƒç´ æ˜¯å¦å­˜åœ¨&lt;/li>
&lt;li>&lt;code>SCARD key&lt;/code> # æŸ¥è¯¢é›†åˆå…ƒç´ ä¸ªæ•°&lt;/li>
&lt;li>&lt;code>SMEMBERS key&lt;/code> # æŸ¥çœ‹é›†åˆçš„æ‰€æœ‰å…ƒç´ &lt;/li>
&lt;li>&lt;code>SSCAN key cursor[MATCH pattern][COUNT count]&lt;/code> # æŸ¥çœ‹é›†åˆå…ƒç´ ï¼Œå¯ä»¥ç†è§£ä¸ºæŒ‡å®šæ¸¸æ ‡è¿›è¡ŒæŸ¥è¯¢ï¼Œå¯ä»¥æŒ‡å®šä¸ªæ•°ï¼Œé»˜è®¤ä¸º10&lt;/li>
&lt;li>&lt;code>SINTER key [key ...]&lt;/code> # è¿”å›žåœ¨ç¬¬ä¸€ä¸ªé›†åˆï¼ŒåŒæ—¶åœ¨åŽé¢æ‰€æœ‰é›†åˆéƒ½å­˜åœ¨å…ƒç´ &lt;/li>
&lt;li>&lt;code>SUNION key [key ...]&lt;/code> # è¿”å›žæ‰€æœ‰é›†åˆçš„å¹¶é›†ï¼Œé›†åˆä¸ªæ•°å¤§äºŽç­‰äºŽ2&lt;/li>
&lt;li>&lt;code>SDIFF key [key ...]&lt;/code> # è¿”å›žç¬¬ä¸€ä¸ªé›†åˆæœ‰ï¼Œä¸”åŽç»­é›†åˆä¸­ä¸å­˜åœ¨çš„å…ƒç´ ï¼Œç»“åˆä¸ªæ•°å¤§äºŽç­‰äºŽ2ï¼Œæ³¨æ„&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–°ï¼š&lt;code>SADD&lt;/code>, &lt;code>SREM&lt;/code>
&lt;ul>
&lt;li>&lt;code>SADD&lt;/code> &amp;ndash; &amp;gt; å‚è€ƒä¸Šæ–‡&lt;/li>
&lt;li>&lt;code>SREM key member [member ...]&lt;/code> # åˆ é™¤å…ƒç´ ï¼Œè¿”å›žå€¼ä¸ºæˆåŠŸåˆ é™¤å‡ ä¸ªå…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ï¼š&lt;code>DEL&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key&lt;/code> åˆ é™¤å…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>::: tip è¯¦ç»†Setå‘½ä»¤
ðŸ”— &lt;a href="https://redis.io/docs/latest/commands/?group=set">Setå‘½ä»¤åˆ—è¡¨&lt;/a>
:::&lt;/p></description></item><item><title>Redis - Stream</title><link>https://chhz0.github.io/notes/database/redis/datatypes/stream/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/stream/</guid><description>&lt;h2 id="redis-stream-">Redis&amp;lt; Stream &amp;gt;&lt;/h2>
&lt;p>Redis Streamæ˜¯ä¸€ç§æ•°æ®ç»“æž„ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºŽä»…è¿½åŠ æ—¥å¿—ï¼Œä½†ä¹Ÿå®žçŽ°äº†å¤šç§æ“ä½œå…‹æœå…¸åž‹çš„ä»…è¿½åŠ æ—¥å¿—çš„é™åˆ¶. åŒ…æ‹¬O(1)æ—¶é—´å†…çš„éšæœºè®¿é—®å’Œå¤æ‚çš„æ¶ˆè´¹ç­–ç•¥&lt;/p>
&lt;p>Streamçš„ä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/p>
&lt;pre>&lt;code>1. äº‹ä»¶æº¯æº(è¿½è¸ªç”¨æˆ·æ“ä½œã€ç‚¹å‡»)ï¼›
2. ä¼ æ„Ÿå™¨å¥åº·;
3. é€šçŸ¥(å°†æ¯ä¸ªç”¨æˆ·çš„é€šçŸ¥å­˜å‚¨åœ¨å•ç‹¬çš„æµä¸­)
&lt;/code>&lt;/pre>
&lt;p>Redisä¸ºæ¯ä¸ªæµæ¡ç›®ç”Ÿæˆä¸€ä¸ªå”¯ä¸€IDï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›IDæ£€ç´¢å…¶å…³è”æ¡ç›®æˆ–è¯»å–å¹¶å¤„ç†æµä¸­çš„æ‰€æœ‰åŽç»­æ¡ç›®&lt;/p>
&lt;p>Redisæ”¯æŒå¤šç§ä¿®å‰ªç­–ç•¥å’Œå¤šç§æ¶ˆè´¹ç­–ç•¥&lt;/p>
&lt;h3 id="stream-å‘½ä»¤">Stream å‘½ä»¤&lt;/h3>
&lt;ul>
&lt;li>&lt;code>XADD&lt;/code> # å°†æ–°æ¡ç›®æ·»åŠ åˆ°æµä¸­&lt;/li>
&lt;li>&lt;code>XREAD&lt;/code> # è¯»å–ä¸€ä¸ªæˆ–å¤šä¸ªæ¡ç›®ï¼Œä»Žç»™å®šä½ç½®å¼€å§‹å¹¶åŠæ—¶å‘å‰ç§»åŠ¨&lt;/li>
&lt;li>&lt;code>XRANGE&lt;/code> # è¿”å›žä¸¤ä¸ªæä¾›çš„æ¡ç›®IDä¹‹é—´çš„æ¡ç›®èŒƒå›´&lt;/li>
&lt;li>&lt;code>XLEN&lt;/code> # è¿”å›žæµçš„é•¿åº¦&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Redis Stream è¯¦ç»†è¯·é˜…è¯»
&lt;a href="https://redis.io/docs/latest/develop/data-types/streams/">Redis Stream&lt;/a>&lt;/p>&lt;/blockquote></description></item><item><title>Redis - String</title><link>https://chhz0.github.io/notes/database/redis/datatypes/string/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/string/</guid><description>&lt;h2 id="redis-string-">Redis&amp;lt; String &amp;gt;&lt;/h2>
&lt;p>Redis String ç±»åž‹ï¼Œå­˜å‚¨å­—èŠ‚ï¼ŒåŒ…æ‹¬æ–‡æœ¬ï¼Œåºåˆ—åŒ–å¯¹è±¡å’ŒäºŒè¿›åˆ¶æ•°ç»„ï¼Œå› æ­¤ &lt;em>&lt;strong>Stringæ˜¯Redisæœ€åŸºæœ¬çš„æ•°æ®ç»“æž„&lt;/strong>&lt;/em>. é€šå¸¸ç”¨äºŽ&lt;strong>ç¼“å­˜&lt;/strong>ï¼Œè€Œä¸”Redisæ”¯æŒå…¶ä»–åŠŸèƒ½ï¼Œå…è®¸å®žçŽ°&lt;strong>è®¡æ•°å™¨&lt;/strong>å¹¶æ‰§è¡ŒæŒ‰ä½è¿ç®—.&lt;/p>
&lt;p>ç”±äºŽRedisä¸­keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› æ­¤Redisä½¿ç”¨Stringæ•°æ®ç»“æž„ä½œä¸ºkeyçš„å€¼.&lt;/p>
&lt;p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒStirngæœ€å¤§ä¸º512MBï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹&lt;code>proto-max-bulk-len&lt;/code>è¿›è¡Œä¿®æ”¹.&lt;/p>
&lt;h3 id="string-é€‚ç”¨åœºæ™¯">String é€‚ç”¨åœºæ™¯&lt;/h3>
&lt;p>ä½¿ç”¨åœºæ™¯ï¼šä¸€èˆ¬ç”¨æ¥å­˜æ”¾å­—èŠ‚æ•°æ®ã€æ–‡æœ¬æ•°æ®ã€åºåˆ—åŒ–åŽçš„å¯¹è±¡æ•°æ®.&lt;/p>
&lt;ol>
&lt;li>ç¼“å­˜åœºæ™¯ï¼šValueå­˜Jsonå­—ç¬¦ä¸²ç­‰ä¿¡æ¯.&lt;/li>
&lt;li>è®¡æ•°åœºæ™¯ï¼šå› ä¸ºRediså¤„ç†å‘½ä»¤æ˜¯å•çº¿ç¨‹ï¼Œæ‰€ä»¥æ‰§è¡Œå‘½ä»¤çš„è¿‡ç¨‹æ˜¯åŽŸå­çš„ï¼Œå› æ­¤Stringæ•°æ®ç»“æž„é€‚åˆè®¡æ•°åœºæ™¯.&lt;/li>
&lt;/ol>
&lt;h3 id="string-å‘½ä»¤">String å‘½ä»¤&lt;/h3>
&lt;p>å¸¸ç”¨å‘½ä»¤:&lt;/p>
&lt;ul>
&lt;li>åˆ›å»º &amp;ndash;&amp;gt; &lt;code>set&lt;/code>, &lt;code>setnx&lt;/code>, &lt;code>getset&lt;/code>
&lt;ul>
&lt;li>&lt;code>SET key value&lt;/code> # è®¾ç½®ä¸€ä¸ªkeyå€¼ä¸ºç‰¹å®šçš„value&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>setå‘½ä»¤æ‰©å±•å‚æ•°ï¼š
EXï¼ˆé”®è¿‡æœŸæ—¶é—´ç§’ï¼‰ã€PXï¼ˆé”®è¿‡æœŸæ—¶é—´æ¯«ç§’ï¼‰ã€NXï¼ˆåªæœ‰é”®ä¸å­˜åœ¨æ—¶æ‰å¯¹é”®è¿›è¡Œæ“ä½œï¼ŒåŸºæœ¬æ›¿ä»£ä¸‹é¢çš„SETNXæ“ä½œï¼‰ã€XXï¼ˆé”®å­˜åœ¨æ—¶æ‰å¯¹é”®è¿›è¡Œæ“ä½œï¼‰&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>SETNX key value&lt;/code> # ç”¨äºŽåœ¨æŒ‡å®šçš„keyä¸å­˜åœ¨æ—¶ï¼Œä¸ºkeyè®¾ç½®æŒ‡å®šçš„å€¼ï¼Œå¯¹äºŽå®žçŽ°é”å¾ˆæœ‰ç”¨&lt;/li>
&lt;li>&lt;code>GETSET key value&lt;/code> # è®¾ç½®ä¸€ä¸ªkeyçš„å€¼ï¼Œå¹¶è¿”å›žåŽŸæ¥çš„å€¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ &amp;ndash;&amp;gt; &lt;code>get&lt;/code>, &lt;code>mget&lt;/code>
&lt;ul>
&lt;li>&lt;code>Get key&lt;/code> # æŸ¥è¯¢æŸä¸ªkeyï¼Œå­˜åœ¨å°±è¿”å›žå¯¹åº”çš„valueï¼Œä¸å­˜åœ¨è¿”å›žnil&lt;/li>
&lt;li>&lt;code>Mget key [key ...]&lt;/code> # ä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªkeyï¼Œå¦‚æžœæŸä¸ªkeyä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¿”å›žnil&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–° &amp;ndash;&amp;gt; &lt;code>set&lt;/code>
&lt;ul>
&lt;li>è§ä¸Šé¢çš„setå‘½ä»¤&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ &amp;ndash;&amp;gt; &lt;code>del&lt;/code>
&lt;ul>
&lt;li>&lt;code>DEL key [key ...]&lt;/code> # åˆ é™¤å¯¹è±¡ï¼Œè¿”å›žå€¼ä¸ºåˆ é™¤æˆåŠŸäº†å‡ è¡Œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>å…¶ä»–å‘½ä»¤ï¼š&lt;code>incr&lt;/code>, &lt;code>incrby&lt;/code>, &lt;code>incrbyfloat&lt;/code>&lt;/p></description></item><item><title>Redis - ZSet</title><link>https://chhz0.github.io/notes/database/redis/datatypes/zset/</link><pubDate>Tue, 10 Jun 2025 22:36:08 +0800</pubDate><guid>https://chhz0.github.io/notes/database/redis/datatypes/zset/</guid><description>&lt;h2 id="redis-zset-">Redis&amp;lt; ZSet &amp;gt;&lt;/h2>
&lt;p>Redis ZSet æ˜¯ä¸€ä¸ªå…³è”åˆ†æ•°æŽ’åºçš„å”¯ä¸€å­—ç¬¦ä¸²é›†åˆ. å½“å¤šä¸ªå­—ç¬¦ä¸²å…·æœ‰ç›¸åŒåˆ†æ•°æ—¶ï¼Œå­—ç¬¦ä¸²ä¼šæŒ‰ç…§å­—å…¸é¡ºåºæŽ’åˆ—ã€‚&lt;/p>
&lt;p>&lt;code>ZSet&lt;/code>å¯ä»¥é€‚ç”¨äºŽ:&lt;/p>
&lt;ul>
&lt;li>æŽ’è¡Œæ¦œ. ä½¿ç”¨ZSetç»´æŠ¤å¤§åž‹æ¸¸æˆä¸­æœ€é«˜åˆ†æ•°çš„æœ‰åºåˆ—è¡¨.&lt;/li>
&lt;li>é€ŸçŽ‡é™åˆ¶å™¨. ä½¿ç”¨ZSetæž„å»ºæ»‘åŠ¨çª—å£é€ŸçŽ‡é™åˆ¶å™¨ï¼Œä»¥é˜²æ­¢è¿‡å¤šçš„APIè¯·æ±‚.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ZSet&lt;/code>å¯ä»¥è§†ä¸ºæ˜¯é›†åˆå’Œå“ˆå¸Œçš„æ··åˆï¼Œä¸€æ–¹é¢ï¼Œå…¶ä¸Žé›†åˆç±»ä¼¼ï¼Œç”±å”¯ä¸€çš„ã€ä¸é‡å¤çš„å­—ç¬¦ä¸²å…ƒç´ ç»„æˆï¼›å¦ä¸€æ–¹é¢ï¼Œé›†åˆå†…å…ƒç´ æ²¡æœ‰æŽ’åºï¼Œä½†æ˜¯æŽ’åºé›†åˆä¸­æ¯ä¸ªå…ƒç´ éƒ½å’Œä¸€ä¸ªæµ®ç‚¹å€¼ç›¸å…³è”ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼äºŽå“ˆå¸Œï¼Œæ¯ä¸ªå…ƒç´ æ˜ å°„ä¸€ä¸ªå€¼&lt;/p>
&lt;p>æ­¤å¤–ï¼ŒæŽ’åºé›†ä¸­çš„å…ƒç´ æ˜¯æŒ‰é¡ºåºèŽ·å–çš„ï¼Œè¿™ä¸ªé¡ºåºéµå®ˆä»¥ä¸‹è§„åˆ™ï¼š&lt;/p>
&lt;ol>
&lt;li>å¦‚æžœ B å’Œ A æ˜¯å…·æœ‰ä¸åŒåˆ†æ•°çš„ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ™å¦‚æžœ A.score æ˜¯ &amp;gt; B.scoreï¼Œåˆ™ A &amp;gt; B.&lt;/li>
&lt;li>å¦‚æžœ B å’Œ A çš„åˆ†æ•°å®Œå…¨ç›¸åŒï¼Œåˆ™å¦‚æžœ A å­—ç¬¦ä¸²æŒ‰å­—å…¸é¡ºåºå¤§äºŽ B å­—ç¬¦ä¸²ï¼Œåˆ™ A &amp;gt; Bã€‚ B å’Œ A å­—ç¬¦ä¸²ä¸èƒ½ç›¸ç­‰ï¼Œå› ä¸ºæŽ’åºé›†ä»…å…·æœ‰å”¯ä¸€å…ƒç´ &lt;/li>
&lt;/ol>
&lt;h3 id="zset-å‘½ä»¤">ZSet å‘½ä»¤&lt;/h3>
&lt;p>ZSetå¸¸è§å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºï¼š&lt;code>ZADD&lt;/code>
&lt;ul>
&lt;li>&lt;code>ZADD key score member [score member]&lt;/code> # å‘Sorted Setå¢žåŠ æ•°æ®ï¼Œå¦‚æžœkeyå·²ç»å­˜åœ¨çš„Keyï¼Œåˆ™æ›´æ–°å¯¹åº”çš„æ•°æ®
&lt;ul>
&lt;li>æ‰©å±•å‚æ•°ï¼šXX, NX, LT, GT&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æŸ¥è¯¢ï¼š&lt;code>ZRANGE&lt;/code>, &lt;code>ZCOUNT&lt;/code>, &lt;code>ZRANK&lt;/code>, &lt;code>ZCARD&lt;/code>, &lt;code>ZSCORE&lt;/code>
&lt;ul>
&lt;li>&lt;code>ZCARD key&lt;/code> # æŸ¥çœ‹ZSetä¸­çš„æˆå‘˜&lt;/li>
&lt;li>&lt;code>ZRANGE key start stop [WITHSCORES]&lt;/code> # æŸ¥è¯¢ä»Žstartåˆ°stopèŒƒå›´çš„ZSetæ•°æ®ï¼ŒWITHSCORESé€‰å¡«ï¼Œä¸å†™è¾“å‡ºé‡Œåªæœ‰keyï¼Œæ²¡æœ‰scoreå€¼&lt;/li>
&lt;li>&lt;code>ZREVRANGE key start stop [WITHSCORES]&lt;/code> # å³reverse rangeï¼Œä»Žå¤§åˆ°å°éåŽ†ï¼ŒWITHSCORESé€‰é¡¹ï¼Œä¸å†™ä¸ä¼šè¾“å‡ºscore&lt;/li>
&lt;li>&lt;code>ZCOUNT key min max&lt;/code> # è®¡ç®—min-maxç§¯åˆ†èŒƒå›´çš„æˆå‘˜&lt;/li>
&lt;li>&lt;code>ZRANK key member&lt;/code> # æŸ¥çœ‹ZSetä¸­memberçš„æŽ’åç´¢å¼•ï¼Œç´¢å¼•ä»Ž0å¼€å§‹ï¼Œæ‰€ä»¥æŽ’åæ˜¯ç¬¬ä¸€ï¼Œç´¢å¼•å°±æ˜¯0&lt;/li>
&lt;li>&lt;code>ZSCORE key member&lt;/code> # æŸ¥è¯¢ZSetæˆå‘˜çš„åˆ†æ•°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ›´æ–°ï¼š&lt;code>ZADD&lt;/code>, &lt;code>ZREM&lt;/code>
&lt;ul>
&lt;li>&lt;code>ZREM key member [member ...]&lt;/code> # åˆ é™¤ZSetä¸­çš„å…ƒç´ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>åˆ é™¤ï¼š&lt;code>DEL&lt;/code>, &lt;code>UNLINK&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>::: tip è¯¦ç»†ZSetå‘½ä»¤
ðŸ”— &lt;a href="https://redis.io/docs/latest/commands/?group=sorted-set">ZSetså‘½ä»¤åˆ—è¡¨&lt;/a>
:::&lt;/p></description></item></channel></rss>